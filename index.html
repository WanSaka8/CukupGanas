<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ðŸŽ® Ultimate Brain Challenge</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Press+Start+2P&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --primary: #6a11cb;
      --secondary: #2575fc;
      --accent: #ff8a00;
      --correct: #00e676;
      --incorrect: #ff5252;
      --dark: #1a1a2e;
      --light: #f8f9fa;
      --riddle: #9c27b0;
      --puzzle: #3f51b5;
      --logic: #009688;
      --math: #f44336;
      --maze: #795548;
      --chess: #212121;
      --polaris: #673ab7;
      --wordbuilding: #e91e63;
      --wordwonders: #ff6b35;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(45deg, var(--dark), #16213e);
      background-size: 400% 400%;
      animation: gradientBG 12s ease infinite;
      color: var(--light);
      min-height: 100vh;
      overflow-x: hidden;
    }

    @keyframes gradientBG {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    #app {
      padding: 2rem;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    /* Floating Animation */
    @keyframes float {
      0% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-15px);
      }

      100% {
        transform: translateY(0px);
      }
    }

    /* Particle Effects */
    .particle {
      position: absolute;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 50%;
      pointer-events: none;
      z-index: -1;
    }

    /* Game Modes */
    .game-mode {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 2rem;
      border-radius: 15px;
      transition: all 0.3s ease;
      cursor: pointer;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .game-mode::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: var(--accent);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .game-mode:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
    }

    .game-mode:hover::before {
      transform: scaleX(1);
    }

    .game-mode.riddle {
      border-top: 5px solid var(--riddle);
    }

    .game-mode.puzzle {
      border-top: 5px solid var(--puzzle);
    }

    .game-mode.logic {
      border-top: 5px solid var(--logic);
    }

    .game-mode.math {
      border-top: 5px solid var(--math);
    }

    .game-mode.maze {
      border-top: 5px solid var(--maze);
    }

    .game-mode.chess {
      border-top: 5px solid var(--chess);
    }

    .game-mode.polaris {
      border-top: 5px solid var(--polaris);
    }

    .game-mode.wordbuilding {
      border-top: 5px solid var(--wordbuilding);
    }

    .game-mode.wordwonders {
      border-top: 5px solid var(--wordwonders);
    }

    .mode-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
      display: inline-block;
      animation: float 4s ease-in-out infinite;
    }

    /* Home Page */
    .home-container {
      max-width: 900px;
      width: 100%;
      text-align: center;
      animation: fadeIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .title {
      font-family: 'Press Start 2P', cursive;
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      background: linear-gradient(to right, var(--light), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      line-height: 1.3;
    }

    .subtitle {
      font-size: 1.5rem;
      opacity: 0.9;
      margin-bottom: 3rem;
    }

    .game-modes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin: 3rem 0;
    }

    /* Game Page */
    .game-container {
      max-width: 800px;
      width: 100%;
      background: rgba(26, 26, 46, 0.8);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
      padding: 2.5rem;
      animation: slideUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
      border-top: 5px solid var(--accent);
    }

    .game-container::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      animation: rotate 20s linear infinite;
      z-index: -1;
    }

    @keyframes rotate {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    .game-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .timer-container {
      display: flex;
      align-items: center;
      gap: 0.8rem;
    }

    .timer-circle {
      position: relative;
      width: 60px;
      height: 60px;
    }

    .timer-text {
      font-size: 1.3rem;
      font-weight: 600;
    }

    .score {
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(to right, var(--accent), var(--correct));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .question-container {
      margin: 2rem 0;
    }

    .question-type {
      display: inline-block;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 1rem;
      background: var(--accent);
      color: white;
    }

    .question {
      font-size: 1.8rem;
      line-height: 1.5;
      margin-bottom: 2.5rem;
      position: relative;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      border-left: 4px solid var(--accent);
    }

    .question::before {
      content: '?';
      position: absolute;
      right: 1rem;
      top: -1rem;
      font-size: 5rem;
      opacity: 0.1;
      z-index: -1;
    }

    .options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .option-button {
      padding: 1.2rem;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      color: var(--light);
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .option-button:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-3px);
    }

    .option-button.correct {
      background: var(--correct);
      color: white;
      animation: pulse 0.5s ease;
    }

    .option-button.incorrect {
      background: var(--incorrect);
      color: white;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }

      100% {
        transform: scale(1);
      }
    }

    .answer-input {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .answer-field {
      flex: 1;
      padding: 1.2rem;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 10px;
      color: white;
      font-size: 1.1rem;
      backdrop-filter: blur(5px);
    }

    .answer-field:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(255, 138, 0, 0.3);
    }

    .submit-button {
      padding: 0 2rem;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .submit-button:hover {
      background: #ff6b00;
      transform: translateY(-2px);
    }

    .feedback {
      margin-top: 2rem;
      animation: fadeIn 0.5s ease;
    }

    .feedback-message {
      padding: 1.5rem;
      border-radius: 10px;
      margin-bottom: 1.5rem;
      font-size: 1.2rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.8rem;
      flex-direction: column;
    }

    .correct-feedback {
      background: rgba(0, 230, 118, 0.2);
      border: 1px solid var(--correct);
      color: var(--correct);
    }

    .incorrect-feedback {
      background: rgba(255, 82, 82, 0.2);
      border: 1px solid var(--incorrect);
      color: var(--incorrect);
    }

    .explanation {
      font-size: 0.9rem;
      font-weight: normal;
      margin-top: 0.5rem;
      text-align: center;
      opacity: 0.8;
    }

    .next-button {
      width: 100%;
      padding: 1.2rem;
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .next-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    /* Maze Game */
    .maze-container {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
    }

    .maze-level {
      font-size: 1.5rem;
      text-align: center;
      margin-bottom: 1rem;
      font-weight: bold;
    }

    .maze-board {
      display: grid;
      grid-template-columns: repeat(var(--cols), 1fr);
      grid-template-rows: repeat(var(--rows), 1fr);
      gap: 2px;
      width: 100%;
      aspect-ratio: 1/1;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 5px;
      margin-bottom: 1rem;
    }

    .maze-cell {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      font-size: 1.2rem;
    }

    .maze-wall {
      background: #333;
    }

    .maze-path {
      background: rgba(255, 255, 255, 0.05);
    }

    .maze-start {
      background: #4CAF50;
    }

    .maze-end {
      background: #F44336;
    }

    .maze-player {
      background: #2196F3;
      border-radius: 50%;
      width: 80%;
      height: 80%;
      z-index: 2;
    }

    .maze-visited {
      background: rgba(33, 150, 243, 0.2);
    }

    .maze-controls {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: 1rem;
    }

    .maze-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 0.5rem;
    }

    .maze-button {
      padding: 0.8rem;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 5px;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .maze-button:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .maze-button:active {
      transform: scale(0.95);
    }

    /* Chess Game */
    .chess-container {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
    }

    .chess-board {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      grid-template-rows: repeat(8, 1fr);
      width: 100%;
      aspect-ratio: 1/1;
      border: 2px solid rgba(255, 255, 255, 0.2);
      margin-bottom: 1rem;
    }

    .chess-square {
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .chess-square.light {
      background: #f0d9b5;
    }

    .chess-square.dark {
      background: #b58863;
    }

    .chess-square.highlight {
      background: rgba(0, 255, 0, 0.3);
    }

    .chess-square.capture-highlight {
      background: rgba(255, 0, 0, 0.3);
    }

    .chess-piece {
      width: 80%;
      height: 80%;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      cursor: pointer;
      z-index: 2;
      font-size: 2.5rem;
      line-height: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .chess-piece.selected {
      box-shadow: 0 0 10px 5px rgba(255, 255, 0, 0.5);
    }

    .chess-controls {
      display: flex;
      justify-content: space-between;
      margin-top: 1rem;
    }

    .chess-info {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .chess-turn {
      font-size: 1.2rem;
      font-weight: bold;
    }

    .chess-status {
      font-size: 1rem;
      opacity: 0.8;
    }

    /* Polaris Game */
    .polaris-container {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
    }

    .polaris-board {
      display: grid;
      grid-template-columns: repeat(var(--size), 1fr);
      grid-template-rows: repeat(var(--size), 1fr);
      gap: 2px;
      width: 100%;
      aspect-ratio: 1/1;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 5px;
      margin-bottom: 1rem;
    }

    .polaris-cell {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      font-size: 1.2rem;
    }

    .polaris-obstacle {
      background: #333;
    }

    .polaris-magnetic {
      background: rgba(103, 58, 183, 0.3);
    }

    .polaris-repulsion {
      background: rgba(244, 67, 54, 0.3);
    }

    /* Word Building Game */
    .word-container {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
    }

    .word-current {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1rem;
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .word-letters {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
    }

    .word-found {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .letter-tile {
      background: rgba(59, 130, 246, 0.2);
      border: 1px solid rgba(59, 130, 246, 0.5);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .letter-tile:hover {
      background: rgba(59, 130, 246, 0.4);
      transform: scale(1.1);
    }

    .found-word-tile {
      background: rgba(34, 197, 94, 0.2);
      border: 1px solid rgba(34, 197, 94, 0.5);
      color: #86efac;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.875rem;
    }

    .word-controls {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
      justify-content: center;
    }

    .word-button {
      padding: 0.8rem 1.5rem;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .word-button:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .word-button.submit {
      background: var(--correct);
    }

    .word-button.clear {
      background: var(--incorrect);
    }

    /* Word of Wonders Styles */
    .word-wonders-container {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
    }

    .level-info {
      margin-bottom: 2rem;
    }

    .level-title {
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
      color: var(--accent);
    }

    .level-progress {
      font-size: 1rem;
      opacity: 0.8;
      margin-bottom: 1rem;
    }

    .target-words {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 0.5rem;
      margin-bottom: 2rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
    }

    .target-word {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      padding: 0.5rem;
      font-size: 0.9rem;
      min-height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .target-word.found {
      background: var(--correct);
      color: white;
      transform: scale(1.05);
    }

    .target-word.empty {
      background: transparent;
      border: 2px dashed rgba(255, 255, 255, 0.3);
    }

    .current-word-display {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 1rem;
      margin-bottom: 2rem;
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: bold;
      letter-spacing: 2px;
      border: 2px solid transparent;
      transition: all 0.3s ease;
    }

    .current-word-display.valid {
      border-color: var(--correct);
      background: rgba(0, 230, 118, 0.1);
    }

    .current-word-display.invalid {
      border-color: var(--incorrect);
      background: rgba(255, 82, 82, 0.1);
    }

    .letter-circle-container {
      position: relative;
      width: 300px;
      height: 300px;
      margin: 2rem auto;
    }

    .letter-circle {
      position: absolute;
      width: 60px;
      height: 60px;
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: bold;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      user-select: none;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .letter-circle:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    }

    .letter-circle.selected {
      background: linear-gradient(45deg, var(--accent), #ff416c);
      transform: scale(1.2);
      z-index: 10;
    }

    .letter-circle.used {
      background: var(--correct);
      transform: scale(0.9);
    }

    .connection-line {
      position: absolute;
      background: var(--accent);
      height: 4px;
      border-radius: 2px;
      pointer-events: none;
      z-index: 5;
      opacity: 0.8;
    }

    .bonus-section {
      margin-top: 2rem;
      padding: 1rem;
      background: rgba(255, 138, 0, 0.1);
      border-radius: 10px;
      border: 1px solid rgba(255, 138, 0, 0.3);
    }

    .bonus-title {
      font-size: 1.2rem;
      color: var(--accent);
      margin-bottom: 1rem;
      text-align: center;
    }

    .bonus-words {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
    }

    .bonus-word {
      background: rgba(255, 138, 0, 0.2);
      border: 1px solid rgba(255, 138, 0, 0.5);
      border-radius: 15px;
      padding: 0.3rem 0.8rem;
      font-size: 0.8rem;
      color: var(--accent);
    }

    .control-button {
      padding: 0.8rem 1.5rem;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 25px;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .control-button:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }

    .control-button.shuffle {
      background: var(--primary);
    }

    .control-button.hint {
      background: var(--accent);
    }

    .level-complete-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal-content {
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      padding: 3rem;
      border-radius: 20px;
      text-align: center;
      max-width: 400px;
      width: 90%;
      animation: fadeIn 0.5s ease;
    }

    .modal-title {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: white;
    }

    .modal-score {
      font-size: 1.5rem;
      margin-bottom: 2rem;
      color: var(--accent);
    }

    .modal-button {
      background: white;
      color: var(--primary);
      border: none;
      padding: 1rem 2rem;
      border-radius: 25px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .modal-button:hover {
      transform: scale(1.05);
    }

    /* Results Page */
    .results-container {
      max-width: 800px;
      width: 100%;
      animation: fadeIn 0.8s ease;
    }

    .results-card {
      background: rgba(26, 26, 46, 0.9);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 3rem;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
      text-align: center;
      position: relative;
      overflow: hidden;
      border-top: 5px solid var(--accent);
    }

    .results-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
      z-index: -1;
    }

    .results-title {
      font-size: 2.5rem;
      margin-bottom: 2rem;
      background: linear-gradient(to right, var(--light), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .score-display {
      margin: 3rem 0;
      position: relative;
    }

    .score-circle {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      margin: 0 auto;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      position: relative;
      animation: float 6s ease-in-out infinite;
    }

    .score-circle::before {
      content: '';
      position: absolute;
      inset: -10px;
      border-radius: 50%;
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      z-index: -1;
      filter: blur(20px);
      opacity: 0.6;
    }

    .score-value {
      font-size: 4.5rem;
      font-weight: 700;
      line-height: 1;
      background: linear-gradient(to bottom, var(--light), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .score-label {
      font-size: 1.2rem;
      opacity: 0.8;
    }

    .feedback-title {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .feedback-text {
      font-size: 1.2rem;
      opacity: 0.9;
      margin-bottom: 3rem;
      line-height: 1.6;
    }

    .actions {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .action-button {
      padding: 1.2rem 2.5rem;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      min-width: 180px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      border: none;
    }

    .play-again {
      background: linear-gradient(45deg, var(--accent), #ff416c);
      color: white;
    }

    .go-home {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .action-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    }

    /* Animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes confetti {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }

      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    @keyframes bounce {

      0%,
      20%,
      50%,
      80%,
      100% {
        transform: translateY(0);
      }

      40% {
        transform: translateY(-10px);
      }

      60% {
        transform: translateY(-5px);
      }
    }

    .bounce {
      animation: bounce 0.6s ease;
    }

    @keyframes shake {

      0%,
      100% {
        transform: translateX(0);
      }

      25% {
        transform: translateX(-5px);
      }

      75% {
        transform: translateX(5px);
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .title {
        font-size: 2rem;
      }

      .subtitle {
        font-size: 1.2rem;
      }

      .game-modes {
        grid-template-columns: 1fr;
      }

      .game-container,
      .results-card {
        padding: 1.5rem;
      }

      .question {
        font-size: 1.5rem;
      }

      .options {
        grid-template-columns: 1fr;
      }

      .answer-input {
        flex-direction: column;
      }

      .submit-button {
        padding: 1.2rem;
        width: 100%;
      }

      .actions {
        flex-direction: column;
      }

      .action-button {
        width: 100%;
      }

      .maze-buttons {
        grid-template-columns: 1fr;
      }

      .chess-piece {
        font-size: 1.8rem;
      }

      .letter-circle-container {
        width: 250px;
        height: 250px;
      }

      .letter-circle {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
      }

      .target-words {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      }
    }

    .hidden {
      display: none;
    }
  </style>
</head>

<body>
  <div id="app">
    <!-- Content will be dynamically rendered here -->
  </div>

  <script>
    // Enhanced Game Data with Multiple Types
    const questions = {
      riddle: [
        // 5 existing riddles
        {
          type: 'riddle',
          text: 'Aku memiliki kota tetapi tidak ada rumah, aku memiliki gunung tetapi tidak ada pohon, aku memiliki air tetapi tidak ada ikan. Apakah aku?',
          answer: 'peta',
          hint: 'Berkaitan dengan geografi'
        },
        {
          type: 'riddle',
          text: 'Semakin banyak kamu mengambil, semakin banyak kamu meninggalkan. Apakah aku?',
          answer: 'langkah',
          hint: 'Berkaitan dengan perjalanan'
        },
        {
          type: 'riddle',
          text: 'Aku berbicara tanpa mulut dan mendengar tanpa telinga. Aku tidak memiliki tubuh, tetapi aku hidup dengan angin. Apakah aku?',
          answer: 'gema',
          hint: 'Berkaitan dengan suara'
        },
        {
          type: 'riddle',
          text: 'Aku ringan seperti bulu, tetapi orang terkuat pun tidak bisa menahanku lebih dari 5 menit. Apakah aku?',
          answer: 'napas',
          hint: 'Berkaitan dengan tubuh manusia'
        },
        {
          type: 'riddle',
          text: 'Aku bukan hidup, tapi aku bisa mati. Aku bukan cairan, tapi aku bisa mengalir. Apakah aku?',
          answer: 'api',
          hint: 'Unsur alam'
        },
        // 25 new hard riddles
        {
          type: 'riddle',
          text: 'Bisa menembus kaca tanpa memecahkannya, dan menghilang dalam sekejap. Apakah aku?',
          answer: 'cahaya',
          hint: 'Berkaitan dengan fisika'
        },
        {
          type: 'riddle',
          text: 'Memiliki sungai tanpa air, hutan tanpa pohon, gunung tanpa batu. Apakah aku?',
          answer: 'peta',
          hint: 'Representasi geografis'
        },
        {
          type: 'riddle',
          text: 'Semakin tinggi aku, semakin sedikit yang kamu lihat. Apakah aku?',
          answer: 'kabut',
          hint: 'Fenomena alam'
        },
        {
          type: 'riddle',
          text: 'Bisa berjalan tanpa kaki, menangis tanpa mata. Apakah aku?',
          answer: 'awan',
          hint: 'Di langit'
        },
        {
          type: 'riddle',
          text: 'Dibutuhkan 10 orang untuk memegangku, tetapi 1 orang bisa membuatku pergi. Apakah aku?',
          answer: 'bau',
          hint: 'Indra penciuman'
        },
        {
          type: 'riddle',
          text: 'Aku selalu lapar, aku harus terus diberi makan, jari yang aku sentuh akan segera menjadi merah. Apakah aku?',
          answer: 'api',
          hint: 'Berkaitan dengan unsur alam'
        },
        {
          type: 'riddle',
          text: 'Miliki kepala tanpa wajah, memiliki lengan tanpa tangan. Apakah aku?',
          answer: 'bantal',
          hint: 'Ada di kamar tidur'
        },
        {
          type: 'riddle',
          text: 'Bisa berjalan ke segala arah tanpa bergerak. Apakah aku?',
          answer: 'jam dinding',
          hint: 'Menunjukkan waktu'
        },
        {
          type: 'riddle',
          text: 'Semakin banyak kamu ambil, semakin besar aku menjadi. Apakah aku?',
          answer: 'lubang',
          hint: 'Berkaitan dengan ruang kosong'
        },
        {
          type: 'riddle',
          text: 'Bisa menembus dinding tanpa merusak, membunuh tanpa sentuhan. Apakah aku?',
          answer: 'suara',
          hint: 'Gelombang'
        },
        {
          type: 'riddle',
          text: 'Memiliki lidah tapi tidak bisa bicara, memiliki leher tapi tidak memiliki kepala. Apakah aku?',
          answer: 'botol',
          hint: 'Wadah minuman'
        },
        {
          type: 'riddle',
          text: 'Dilahirkan dari air, tapi jika kembali ke air akan mati. Apakah aku?',
          answer: 'es',
          hint: 'Perubahan wujud'
        },
        {
          type: 'riddle',
          text: 'Bisa membuat segala sesuatu menjadi basah sementara tetap tetap kering. Apakah aku?',
          answer: 'bayangan',
          hint: 'Tercipta karena cahaya'
        },
        {
          type: 'riddle',
          text: 'Bisa mengelilingi halaman sementara tetap berada di sudut. Apakah aku?',
          answer: 'pagar',
          hint: 'Pembatas ruang'
        },
        {
          type: 'riddle',
          text: 'Semakin banyak kamu simpan, semakin banyak kamu hilangkan. Apakah aku?',
          answer: 'waktu',
          hint: 'Sumber daya tak terbarukan'
        },
        {
          type: 'riddle',
          text: 'Bisa membuat orang kaya tetapi tidak bisa dibeli. Apakah aku?',
          answer: 'pengetahuan',
          hint: 'Kekayaan non-material'
        },
        {
          type: 'riddle',
          text: 'Selalu ada di depanmu tetapi tidak pernah bisa dilihat. Apakah aku?',
          answer: 'masa depan',
          hint: 'Konsep waktu'
        },
        {
          type: 'riddle',
          text: 'Bisa dimasuki tetapi tidak bisa keluar. Apakah aku?',
          answer: 'kuburan',
          hint: 'Tempat akhir'
        },
        {
          type: 'riddle',
          text: 'Memiliki mata tetapi tidak bisa melihat. Apakah aku?',
          answer: 'angin topan',
          hint: 'Fenomena cuaca'
        },
        {
          type: 'riddle',
          text: 'Bisa mengisi ruangan tetapi tidak mengambil ruang. Apakah aku?',
          answer: 'cahaya',
          hint: 'Fenomena fisika'
        },
        {
          type: 'riddle',
          text: 'Selalu berlari tetapi tidak pernah berjalan. Apakah aku?',
          answer: 'sungai',
          hint: 'Aliran air'
        },
        {
          type: 'riddle',
          text: 'Bisa dibawa tetapi tidak bisa dipegang. Apakah aku?',
          answer: 'nama',
          hint: 'Identitas'
        },
        {
          type: 'riddle',
          text: 'Memiliki gigi tetapi tidak bisa makan. Apakah aku?',
          answer: 'gergaji',
          hint: 'Alat potong'
        },
        {
          type: 'riddle',
          text: 'Bisa mati tetapi tidak pernah hidup. Apakah aku?',
          answer: 'baterai',
          hint: 'Sumber energi'
        },
        {
          type: 'riddle',
          text: 'Selalu bertambah tetapi tidak pernah berkurang. Apakah aku?',
          answer: 'usia',
          hint: 'Konsep waktu'
        },
        {
          type: 'riddle',
          text: 'Bisa pecah tanpa disentuh. Apakah aku?',
          answer: 'janji',
          hint: 'Kata-kata'
        },
        {
          type: 'riddle',
          text: 'Memiliki tangan tetapi tidak bisa menepuk. Apakah aku?',
          answer: 'jam',
          hint: 'Penunjuk waktu'
        },
        {
          type: 'riddle',
          text: 'Bisa membuat orang menangis tetapi tidak pernah sedih. Apakah aku?',
          answer: 'bawang',
          hint: 'Bahan masakan'
        },
        {
          type: 'riddle',
          text: 'Selalu basah saat kering. Apakah aku?',
          answer: 'handuk',
          hint: 'Di kamar mandi'
        }
      ],
      puzzle: [
        // 4 existing puzzles
        {
          type: 'multiple-choice',
          text: 'Jika 2 orang ayah dan 2 orang anak pergi memancing, berapa minimal orang yang ada di situ?',
          options: ['3', '4', '2', '5'],
          answer: '3',
          explanation: 'Mereka adalah kakek, ayah, dan anak (total 3 orang)'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang memiliki tangan tetapi tidak bisa bertepuk tangan?',
          options: ['Jam', 'Pohon', 'Boneka', 'Robot'],
          answer: 'Jam',
          explanation: 'Mengacu pada jarum jam'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang memiliki 13 hati tetapi tidak memiliki organ tubuh lainnya?',
          options: ['Deck kartu', 'Manusia robot', 'Alien', 'Tas'],
          answer: 'Deck kartu',
          explanation: 'Mengacu pada 13 hati dalam satu set kartu remi'
        },
        {
          type: 'multiple-choice',
          text: 'Jika sebuah pesawat jatuh di perbatasan antara Amerika Serikat dan Kanada, di mana korban akan dikuburkan?',
          options: ['Amerika Serikat', 'Kanada', 'Keduanya', 'Tidak dikuburkan'],
          answer: 'Tidak dikuburkan',
          explanation: 'Korban kecelakaan pesawat tidak dikuburkan'
        },
        // 26 new hard puzzles
        {
          type: 'multiple-choice',
          text: 'Sebuah keluarga memiliki 3 anak. Jika anak pertama bernama April, anak kedua bernama Mei, maka anak ketiga bernama?',
          options: ['Juni', 'Januari', 'April', 'Mei'],
          answer: 'April',
          explanation: 'Pertanyaannya menyebutkan "sebuah keluarga memiliki 3 anak", nama anak pertama adalah April'
        },
        {
          type: 'multiple-choice',
          text: 'Jika 5 kucing bisa menangkap 5 tikus dalam 5 menit, berapa waktu yang dibutuhkan 100 kucing untuk menangkap 100 tikus?',
          options: ['5 menit', '100 menit', '20 menit', '1 menit'],
          answer: '5 menit',
          explanation: 'Setiap kucing membutuhkan 5 menit untuk menangkap 1 tikus'
        },
        {
          type: 'multiple-choice',
          text: 'Sebuah jam berdentang setiap 1 detik. Berapa detik jeda antara dentang pertama dan dentang keempat?',
          options: ['3', '4', '2', '1'],
          answer: '3',
          explanation: 'Dentang 1-2 (1 detik), 2-3 (1 detik), 3-4 (1 detik) = total 3 detik'
        },
        {
          type: 'multiple-choice',
          text: 'Jika 1=5, 2=25, 3=325, 4=4325, maka 5=?',
          options: ['54325', '1', '53245', '54321'],
          answer: '1',
          explanation: 'Karena di awal sudah disebutkan 1=5, maka 5=1'
        },
        {
          type: 'multiple-choice',
          text: 'Berapa banyak tanah dalam lubang berukuran 3m x 3m x 3m?',
          options: ['27 mÂ³', '9 mÂ³', '0 mÂ³', '3 mÂ³'],
          answer: '0 mÂ³',
          explanation: 'Lubang adalah ruang kosong, tidak ada tanah di dalamnya'
        },
        {
          type: 'multiple-choice',
          text: 'Jika kamu melempar batu biru ke laut merah, apa yang akan terjadi?',
          options: ['Batu basah', 'Batu tenggelam', 'Batu tetap biru', 'Tidak ada yang terjadi'],
          answer: 'Batu basah',
          explanation: 'Batu akan menjadi basah karena terkena air'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang selalu naik tetapi tidak pernah turun?',
          options: ['Umur', 'Harga', 'Suhu', 'Angka'],
          answer: 'Umur',
          explanation: 'Umur selalu bertambah seiring waktu'
        },
        {
          type: 'multiple-choice',
          text: 'Jika kamu berada di ruangan tanpa pintu atau jendela, bagaimana kamu keluar?',
          options: ['Berhenti bermimpi', 'Mencari kunci', 'Menunggu', 'Memecahkan dinding'],
          answer: 'Berhenti bermimpi',
          explanation: 'Kemungkinan kamu sedang bermimpi'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang bisa dipegang tanpa menyentuhnya?',
          options: ['Napas', 'Pikiran', 'Pembicaraan', 'Perasaan'],
          answer: 'Napas',
          explanation: 'Kamu bisa menahan napas tanpa menyentuhnya'
        },
        {
          type: 'multiple-choice',
          text: 'Jika hari ini adalah hari Kamis, hari apa 100 hari lagi?',
          options: ['Jumat', 'Sabtu', 'Minggu', 'Senin'],
          answer: 'Sabtu',
          explanation: '100 hari = 14 minggu + 2 hari (Kamis + 2 hari = Sabtu)'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang bisa dipatahkan hanya dengan mengucapkannya?',
          options: ['Janji', 'Keheningan', 'Rahasia', 'Sumpah'],
          answer: 'Keheningan',
          explanation: 'Mengucapkan sesuatu mematahkan keheningan'
        },
        {
          type: 'multiple-choice',
          text: 'Sebuah kereta listrik bergerak ke utara dengan kecepatan 100 km/jam, angin bertiup ke barat dengan kecepatan 50 km/jam. Ke arah mana asap bergerak?',
          options: ['Utara', 'Barat', 'Timur', 'Tidak ada asap'],
          answer: 'Tidak ada asap',
          explanation: 'Kereta listrik tidak menghasilkan asap'
        },
        {
          type: 'multiple-choice',
          text: 'Jika 9999 = 4, 8888 = 8, 1816 = 6, maka 1212 = ?',
          options: ['0', '4', '6', '8'],
          answer: '0',
          explanation: 'Menghitung jumlah lingkaran dalam angka: 1212 tidak memiliki lingkaran'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang bisa kamu berikan kepada orang lain tetapi tidak bisa menyimpannya untuk dirimu sendiri?',
          options: ['Janji', 'Hadiah', 'Nasihat', 'Kata-kata'],
          answer: 'Janji',
          explanation: 'Kamu bisa memberikan janji tetapi tidak bisa menyimpannya'
        },
        {
          type: 'multiple-choice',
          text: 'Jika 3 orang bisa mengecat 3 pagar dalam 3 jam, berapa waktu yang dibutuhkan 1 orang untuk mengecat 1 pagar?',
          options: ['1 jam', '3 jam', '6 jam', '9 jam'],
          answer: '3 jam',
          explanation: 'Rasio pekerjaan tetap sama per orang'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang bisa kamu pegang di tangan kananmu tetapi tidak bisa di tangan kiri?',
          options: ['Tangan kiri', 'Siku kiri', 'Lengan kiri', 'Jari kiri'],
          answer: 'Tangan kiri',
          explanation: 'Kamu tidak bisa memegang tangan kiri dengan tangan kiri itu sendiri'
        },
        {
          type: 'multiple-choice',
          text: 'Jika kamu melempar koin 10 kali dan semua hasilnya kepala, apa peluang hasil berikutnya kepala lagi?',
          options: ['1/2', '1/10', '1/1024', '0'],
          answer: '1/2',
          explanation: 'Setiap lemparan koin adalah independen, peluang tetap 50%'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang memiliki 4 mata tetapi tidak bisa melihat?',
          options: ['Orang buta', 'Mississippi', 'Tas', 'Kacamata'],
          answer: 'Mississippi',
          explanation: 'Kata "Mississippi" memiliki 4 huruf "i" (eye dalam bahasa Inggris)'
        },
        {
          type: 'multiple-choice',
          text: 'Jika 1=3, 2=3, 3=5, 4=4, 5=4, maka 6=?',
          options: ['3', '5', '6', '4'],
          answer: '3',
          explanation: 'Jumlah huruf dalam kata angka Inggris: six (3 huruf)'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang bisa mengisi ruangan tetapi tidak mengambil ruang?',
          options: ['Cahaya', 'Suara', 'Bau', 'Udara'],
          answer: 'Cahaya',
          explanation: 'Cahaya bisa mengisi ruangan tetapi tidak memiliki massa'
        },
        {
          type: 'multiple-choice',
          text: 'Jika kamu berada di pertandingan lari dan menyalip pelari di posisi kedua, sekarang kamu di posisi berapa?',
          options: ['Pertama', 'Kedua', 'Ketiga', 'Terakhir'],
          answer: 'Kedua',
          explanation: 'Kamu mengambil posisi pelari yang kamu salip'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang bisa kamu dapatkan dengan memberi?',
          options: ['Uang', 'Tempat tidur', 'Waktu', 'Masalah'],
          answer: 'Tempat tidur',
          explanation: 'Memberi (memberi = memberi + ran = ranjang/tempat tidur)'
        },
        {
          type: 'multiple-choice',
          text: 'Jika 7 orang bertemu dan semua berjabat tangan, berapa total jabat tangan yang terjadi?',
          options: ['21', '42', '14', '49'],
          answer: '21',
          explanation: 'Kombinasi 2 dari 7: 7!/(2!5!) = 21'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang bisa berjalan di atas air?',
          options: ['Manusia', 'Angsa', 'Kadal', 'Kecoa'],
          answer: 'Kecoa',
          explanation: 'Beberapa spesies kecoa bisa berjalan di atas air'
        },
        {
          type: 'multiple-choice',
          text: 'Jika 1=5, 2=10, 3=15, 4=20, maka 5=?',
          options: ['25', '1', '5', '30'],
          answer: '1',
          explanation: 'Karena di awal sudah disebutkan 1=5, maka 5=1'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang bisa kamu masukkan ke dalam barel kosong untuk membuatnya lebih ringan?',
          options: ['Lubang', 'Udara', 'Balon', 'Busa'],
          answer: 'Lubang',
          explanation: 'Lubang mengurangi berat dengan mengurangi materi'
        },
        {
          type: 'multiple-choice',
          text: 'Jika kamu menyalip pelari terakhir dalam perlombaan, sekarang kamu di posisi berapa?',
          options: ['Terakhir', 'Kedua terakhir', 'Pertama', 'Tidak mungkin'],
          answer: 'Tidak mungkin',
          explanation: 'Kamu tidak bisa menyalip pelari terakhir jika kamu berada di belakangnya'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang memiliki leher tetapi tidak memiliki kepala?',
          options: ['Botol', 'Baju', 'Gitar', 'Pipa'],
          answer: 'Botol',
          explanation: 'Botol memiliki leher botol tetapi tidak memiliki kepala'
        },
        {
          type: 'multiple-choice',
          text: 'Jika 1/2 dari 5 adalah 3, maka 1/3 dari 10 adalah?',
          options: ['4', '3', '5', '6'],
          answer: '4',
          explanation: 'Mengambil angka Romawi: 5=V, 1/2 dari V adalah III (3); 10=X, 1/3 dari X adalah IV (4)'
        },
        {
          type: 'multiple-choice',
          text: 'Apa yang bisa kamu pecahkan meskipun tidak pernah menyentuhnya atau melihatnya?',
          options: ['Janji', 'Rekor', 'Hati', 'Kaca'],
          answer: 'Janji',
          explanation: 'Kamu bisa memecahkan janji tanpa menyentuh atau melihatnya'
        },
        {
          type: 'multiple-choice',
          text: 'Jika 2+3=10, 7+2=63, 6+5=66, maka 8+4=?',
          options: ['96', '48', '32', '12'],
          answer: '96',
          explanation: '(a+b)Ã—a: (2+3)Ã—2=10, (8+4)Ã—8=96'
        }
      ],
      logic: [
        // 3 existing logic questions
        {
          type: 'sequence',
          text: 'Lanjutkan urutan berikut: O, T, T, F, F, S, S, ...',
          answer: 'E',
          explanation: 'Huruf pertama angka dalam bahasa Inggris: One, Two, Three, Four, Five, Six, Seven, Eight'
        },
        {
          type: 'sequence',
          text: '2, 10, 12, 16, 17, 18, 19, ...',
          answer: '200',
          explanation: 'Angka-angka yang dimulai dengan huruf D dalam bahasa Inggris'
        },
        {
          type: 'logic-puzzle',
          text: 'Ada 3 lampu di ruang bawah tanah dan 3 saklar di lantai atas. Bagaimana kamu menentukan saklar mana yang mengendalikan lampu mana jika kamu hanya bisa turun ke ruang bawah tanah sekali?',
          answer: 'Nyalakan saklar pertama selama 5 menit, matikan, nyalakan saklar kedua, lalu periksa. Lampu yang panas tapi mati adalah saklar pertama, yang menyala adalah saklar kedua, dan yang dingin adalah saklar ketiga.',
          hint: 'Gunakan panas lampu sebagai petunjuk'
        },
        // 27 new hard logic questions
        {
          type: 'sequence',
          text: 'Lanjutkan urutan: J, F, M, A, M, J, J, A, ...',
          answer: 'S',
          explanation: 'Inisial bulan dalam setahun: Januari, Februari, Maret, April, Mei, Juni, Juli, Agustus, September'
        },
        {
          type: 'sequence',
          text: '1, 11, 21, 1211, 111221, ...',
          answer: '312211',
          explanation: 'Sequence "look-and-say": 1 (satu 1), 11 (dua 1), 21 (satu 2, satu 1), dst.'
        },
        {
          type: 'logic-puzzle',
          text: 'Ada 8 koin identik, 1 lebih ringan. Dengan timbangan sederhana, berapa penimbangan minimal untuk menemukan koin palsu?',
          answer: '2',
          explanation: 'Bagi 3-3-2, timbang 3 vs 3. Jika seimbang, timbang 2 sisanya. Jika tidak, ambil 3 yang lebih ringan dan timbang 1 vs 1'
        },
        {
          type: 'sequence',
          text: '2, 4, 8, 16, 32, 64, ...',
          answer: '128',
          explanation: 'Deret penggandaan (Ã—2 setiap langkah)'
        },
        {
          type: 'logic-puzzle',
          text: 'Jika semua Bloops adalah Razzies dan semua Razzies adalah Lazzies, apakah semua Bloops pasti Lazzies?',
          answer: 'Ya',
          explanation: 'Sifat transitif: AâŠ‚B dan BâŠ‚C maka AâŠ‚C'
        },
        {
          type: 'sequence',
          text: '1, 4, 9, 16, 25, 36, ...',
          answer: '49',
          explanation: 'Kuadrat bilangan asli: 1Â², 2Â², 3Â², dst.'
        },
        {
          type: 'logic-puzzle',
          text: 'Seorang pria melihat foto seseorang dan berkata: "Saudara laki-laki saya tidak memiliki saudara laki-laki." Siapa orang dalam foto?',
          answer: 'Adik perempuannya',
          explanation: 'Satu-satunya saudara laki-laki pria itu adalah orang dalam foto, yang tidak memiliki saudara laki-laki lain'
        },
        {
          type: 'sequence',
          text: '1, 1, 2, 3, 5, 8, 13, ...',
          answer: '21',
          explanation: 'Deret Fibonacci (jumlah dua angka sebelumnya)'
        },
        {
          type: 'logic-puzzle',
          text: 'Ada 12 bola, 1 berbeda beratnya (tidak diketahui lebih berat/ringan). Berapa penimbangan minimal dengan timbangan untuk menemukan bola berbeda?',
          answer: '3',
          explanation: 'Bagi 4-4-4, lalu 1-1-1 dengan strategi eliminasi'
        },
        {
          type: 'sequence',
          text: '3, 3, 5, 4, 4, 3, 5, 5, 4, 3, ...',
          answer: '6',
          explanation: 'Jumlah huruf dalam kata angka Inggris: three(5), five(4), dst. sampai eleven(6)'
        },
        {
          type: 'logic-puzzle',
          text: 'Jika hari ini adalah hari Minggu, hari apa 2^10 hari lagi?',
          answer: 'Rabu',
          explanation: '2^10=1024, 1024 mod 7 = 2 (Minggu + 2 hari = Rabu)'
        },
        {
          type: 'sequence',
          text: 'Z, O, T, T, F, F, S, S, E, ...',
          answer: 'N',
          explanation: 'Huruf pertama angka nol sampai sembilan dalam bahasa Inggris'
        },
        {
          type: 'logic-puzzle',
          text: 'Sebuah keluarga memiliki 2 orang tua dan 5 anak. Setiap anak memiliki 3 saudara perempuan. Berapa total anggota keluarga?',
          answer: '9',
          explanation: '2 orang tua + 5 anak (4 perempuan + 1 laki-laki, karena laki-laki memiliki 3 saudara perempuan)'
        },
        {
          type: 'sequence',
          text: '1, 2, 6, 24, 120, ...',
          answer: '720',
          explanation: 'Deret faktorial: 1!, 2!, 3!, dst.'
        },
        {
          type: 'logic-puzzle',
          text: 'Jika A Ã— B = 24, B Ã— C = 30, dan A Ã— C = 20, maka A Ã— B Ã— C = ?',
          answer: '120',
          explanation: 'A=4, B=6, C=5 (dari persamaan yang diberikan)'
        },
        {
          type: 'sequence',
          text: 'A, E, F, H, I, K, L, M, ...',
          answer: 'N',
          explanation: 'Huruf dengan semua garis lurus dalam alfabet kapital'
        },
        {
          type: 'logic-puzzle',
          text: 'Sebuah jam menunjukkan pukul 15:15. Berapa derajat sudut antara jarum jam dan menit?',
          answer: '7.5Â°',
          explanation: 'Jarum jam bergerak 0.5Â° per menit (30Â° per jam), jadi pada 15 menit sudah bergerak 7.5Â° dari angka 3'
        },
        {
          type: 'sequence',
          text: '1, 3, 6, 10, 15, 21, ...',
          answer: '28',
          explanation: 'Angka triangular (1, 1+2, 1+2+3, dst.)'
        },
        {
          type: 'logic-puzzle',
          text: 'Jika 5 mesin membuat 5 widget dalam 5 menit, berapa waktu yang dibutuhkan 100 mesin untuk membuat 100 widget?',
          answer: '5 menit',
          explanation: 'Setiap mesin membutuhkan 5 menit untuk membuat 1 widget'
        },
        {
          type: 'sequence',
          text: '1, 2, 4, 8, 16, 32, ...',
          answer: '64',
          explanation: 'Pangkat dua (2^0, 2^1, 2^2, dst.)'
        },
        {
          type: 'logic-puzzle',
          text: 'Ada 3 kotak: satu hanya berisi apel, satu hanya jeruk, satu campuran. Semua label salah. Berapa banyak buah minimal yang harus diambil untuk melabeli dengan benar?',
          answer: '1',
          explanation: 'Ambil dari kotak berlabel "campuran" (karena semua label salah, pasti isinya hanya 1 jenis)'
        },
        {
          type: 'sequence',
          text: '2, 5, 10, 17, 26, ...',
          answer: '37',
          explanation: 'nÂ² + 1 (1Â²+1=2, 2Â²+1=5, dst.)'
        },
        {
          type: 'logic-puzzle',
          text: 'Jika 3 orang bisa mengecat 3 pagar dalam 3 hari, berapa hari yang dibutuhkan 9 orang untuk mengecat 9 pagar?',
          answer: '3 hari',
          explanation: 'Rasio orang:pagar tetap sama, waktu tidak berubah'
        },
        {
          type: 'sequence',
          text: '1, 4, 27, 256, ...',
          answer: '3125',
          explanation: 'n^n (1^1, 2^2, 3^3, dst.)'
        },
        {
          type: 'logic-puzzle',
          text: 'Sebuah tangga memiliki 10 anak tangga. Kamu bisa naik 1 atau 2 anak tangga sekaligus. Berapa cara berbeda untuk mencapai puncak?',
          answer: '89',
          explanation: 'Deret Fibonacci: f(n) = f(n-1) + f(n-2)'
        },
        {
          type: 'sequence',
          text: '0, 1, 1, 2, 3, 5, 8, 13, ...',
          answer: '21',
          explanation: 'Deret Fibonacci dimulai dari 0'
        },
        {
          type: 'logic-puzzle',
          text: 'Jika 7 orang bertemu dan semua berjabat tangan, berapa total jabat tangan?',
          answer: '21',
          explanation: 'Kombinasi 2 dari 7: 7Ã—6/2 = 21'
        },
        {
          type: 'sequence',
          text: '1, 9, 25, 49, 81, ...',
          answer: '121',
          explanation: 'Kuadrat bilangan ganjil: 1Â², 3Â², 5Â², dst.'
        },
        {
          type: 'logic-puzzle',
          text: 'Sebuah kolam ditutupi oleh teratai. Setiap hari luas tertutup menjadi dua kali lipat. Jika butuh 48 hari untuk menutupi seluruh kolam, berapa hari untuk menutupi setengah kolam?',
          answer: '47',
          explanation: 'Karena tiap hari luas menjadi dua kali lipat, maka sehari sebelumnya adalah setengahnya'
        },
        {
          type: 'sequence',
          text: '1, 2, 3, 5, 7, 11, 13, ...',
          answer: '17',
          explanation: 'Deret bilangan prima'
        },
        {
          type: 'logic-puzzle',
          text: 'Jika 1=3, 2=3, 3=5, 4=4, 5=4, maka 6=?',
          answer: '3',
          explanation: 'Jumlah huruf dalam kata angka Inggris: six (3 huruf)'
        },
        {
          type: 'sequence',
          text: '1, 3, 7, 15, 31, ...',
          answer: '63',
          explanation: '2^n - 1 (2^1-1=1, 2^2-1=3, dst.)'
        },
        {
          type: 'logic-puzzle',
          text: 'Sebuah jam berdentang setiap jam (1 kali pada jam 1, 2 kali pada jam 2, dst.). Berapa total dentang dalam 24 jam?',
          answer: '156',
          explanation: 'Jumlah dari 1 sampai 12, dikali 2 (karena terjadi dua kali dalam 24 jam)'
        }
      ],
      math: [
        {
          type: "multiple-choice",
          text: "Berapa hasil dari 15 Ã— 13?",
          options: ["195", "185", "205", "175"],
          answer: "195",
          explanation: "15 Ã— 13 = 195"
        },
        {
          type: "multiple-choice",
          text: "Jika x + 5 = 12, maka x = ?",
          options: ["7", "8", "6", "9"],
          answer: "7",
          explanation: "x = 12 - 5 = 7"
        },
        {
          type: "multiple-choice",
          text: "Berapa akar kuadrat dari 144?",
          options: ["12", "14", "10", "16"],
          answer: "12",
          explanation: "âˆš144 = 12"
        },
        {
          type: "multiple-choice",
          text: "Jika 7 orang bertemu dan semua berjabat tangan, berapa total jabat tangan yang terjadi?",
          options: ["21", "42", "14", "49"],
          answer: "21",
          explanation: "Kombinasi 2 dari 7: 7!/(2!5!) = 21"
        }
      ]
    };

    const mazeLevels = [
      {
        // Level 1: Simple Path
        rows: 5,
        cols: 5,
        start: { row: 0, col: 0 },
        end: { row: 4, col: 4 },
        walls: [
          [0, 1],
          [1, 1],
          [1, 3],
          [2, 1],
          [2, 3],
          [3, 1],
          [3, 3],
        ],
      },
      {
        // Level 2: A Bit More Winding
        rows: 7,
        cols: 7,
        start: { row: 0, col: 0 },
        end: { row: 6, col: 6 },
        walls: [
          [0, 2],
          [1, 2],
          [1, 4],
          [1, 5],
          [2, 4],
          [3, 0],
          [3, 1],
          [3, 2],
          [3, 4],
          [3, 6],
          [4, 4],
          [5, 1],
          [5, 2],
          [5, 4],
          [5, 6],
          [6, 4],
        ],
      },
      {
        // Level 3: Vertical Bars
        rows: 8,
        cols: 8,
        start: { row: 0, col: 0 },
        end: { row: 7, col: 7 },
        walls: [
          [0, 1],
          [1, 1],
          [2, 1],
          [3, 1],
          [4, 1],
          [5, 1],
          [6, 1],
          [1, 3],
          [2, 3],
          [3, 3],
          [4, 3],
          [5, 3],
          [6, 3],
          [7, 3],
          [0, 5],
          [1, 5],
          [2, 5],
          [3, 5],
          [4, 5],
          [5, 5],
          [6, 5],
          [1, 7],
          [2, 7],
          [3, 7],
          [4, 7],
          [5, 7],
          [6, 7],
          [7, 7],
        ],
      },
      {
        // Level 4: Horizontal Bars
        rows: 9,
        cols: 9,
        start: { row: 0, col: 0 },
        end: { row: 8, col: 8 },
        walls: [
          [1, 0],
          [1, 1],
          [1, 2],
          [1, 3],
          [1, 4],
          [1, 5],
          [1, 6],
          [3, 2],
          [3, 3],
          [3, 4],
          [3, 5],
          [3, 6],
          [3, 7],
          [3, 8],
          [5, 0],
          [5, 1],
          [5, 2],
          [5, 3],
          [5, 4],
          [5, 5],
          [5, 6],
          [7, 2],
          [7, 3],
          [7, 4],
          [7, 5],
          [7, 6],
          [7, 7],
          [7, 8],
        ],
      },
      {
        // Level 5: Simple Rooms
        rows: 10,
        cols: 10,
        start: { row: 0, col: 0 },
        end: { row: 9, col: 9 },
        walls: [
          [0, 4],
          [2, 4],
          [3, 4],
          [4, 4],
          [5, 4],
          [6, 4],
          [7, 4],
          [2, 0],
          [2, 1],
          [2, 2],
          [2, 3],
          [2, 6],
          [2, 7],
          [2, 8],
          [2, 9],
          [7, 0],
          [7, 1],
          [7, 2],
          [7, 3],
          [7, 6],
          [7, 7],
          [7, 8],
          [7, 9],
          [4, 1],
          [5, 1],
          [4, 8],
          [5, 8],
        ],
      },

      // --- Difficulty: Medium (Levels 6-10) ---
      // Introduces dead ends and more complex paths.
      {
        // Level 6: The Fork
        rows: 11,
        cols: 11,
        start: { row: 5, col: 5 },
        end: { row: 10, col: 10 },
        walls: [
          [1, 1],
          [1, 2],
          [1, 3],
          [1, 4],
          [1, 5],
          [1, 6],
          [1, 7],
          [1, 8],
          [1, 9],
          [2, 1],
          [3, 1],
          [4, 1],
          [5, 1],
          [6, 1],
          [7, 1],
          [8, 1],
          [9, 1],
          [9, 2],
          [9, 3],
          [9, 4],
          [9, 5],
          [9, 6],
          [9, 7],
          [9, 8],
          [9, 9],
          [2, 9],
          [3, 9],
          [4, 9],
          [6, 9],
          [7, 9],
          [8, 9],
          [3, 3],
          [3, 4],
          [3, 5],
          [3, 6],
          [3, 7],
          [4, 3],
          [5, 3],
          [6, 3],
          [7, 3],
          [7, 4],
          [7, 5],
          [7, 6],
          [7, 7],
          [4, 7],
          [6, 7],
        ],
      },
      {
        // Level 7: The Spiral (Corrected and Solvable)
        rows: 13,
        cols: 13,
        start: { row: 0, col: 0 },
        end: { row: 6, col: 6 },
        walls: [
          [0, 1],
          [1, 1],
          [1, 3],
          [1, 4],
          [1, 5],
          [1, 6],
          [1, 7],
          [1, 8],
          [1, 9],
          [1, 10],
          [1, 11],
          [2, 1],
          [2, 3],
          [2, 11],
          [3, 3],
          [3, 5],
          [3, 6],
          [3, 7],
          [3, 8],
          [3, 9],
          [3, 11],
          [4, 1],
          [4, 3],
          [4, 5],
          [4, 9],
          [4, 11],
          [5, 1],
          [5, 5],
          [5, 7],
          [5, 9],
          [5, 11],
          [6, 1],
          [6, 2],
          [6, 3],
          [6, 4],
          [6, 5],
          [6, 7],
          [6, 9],
          [7, 7],
          [7, 9],
          [7, 10],
          [7, 11],
          [8, 1],
          [8, 2],
          [8, 3],
          [8, 4],
          [8, 5],
          [8, 6],
          [8, 7],
          [9, 1],
          [9, 8],
          [9, 9],
          [9, 11],
          [10, 1],
          [10, 3],
          [10, 4],
          [10, 5],
          [10, 6],
          [10, 7],
          [10, 11],
          [11, 1],
          [11, 3],
          [11, 11],
          [12, 3],
          [12, 4],
          [12, 5],
          [12, 6],
          [12, 7],
          [12, 8],
          [12, 9],
          [12, 10],
          [12, 11],
        ],
      },
      {
        // Level 8: Checkerboard (Modified)
        rows: 12,
        cols: 12,
        start: { row: 0, col: 0 },
        end: { row: 11, col: 11 },
        walls: [
          // Pola checkerboard tetapi jalur diagonal (0,0)->(1,1)->...->(11,11) dibiarkan kosong
          [0, 1], [0, 3], [0, 5], [0, 7], [0, 9], [0, 11],
          // Baris 1
          [1, 4], [1, 6], [1, 8], [1, 10],
          // Baris 2
          [2, 1], [2, 5], [2, 7], [2, 9], [2, 11],
          // Baris 3
          [3, 0], [3, 2], [3, 6], [3, 8], [3, 10],
          // Baris 4
          [4, 1], [4, 3], [4, 7], [4, 9], [4, 11],
          // Baris 5
          [5, 0], [5, 2], [5, 4], [5, 8], [5, 10],
          // Baris 6
          [6, 1], [6, 3], [6, 5], [6, 9], [6, 11],
          // Baris 7
          [7, 0], [7, 2], [7, 4], [7, 6], [7, 10],
          // Baris 8
          [8, 1], [8, 3], [8, 5], [8, 7], [8, 11],
          // Baris 9
          [9, 0], [9, 2], [9, 4], [9, 6],
          // Baris 10
          [10, 1], [10, 3], [10, 5], [10, 7], [10, 9],
          // Baris 11
          [11, 0], [11, 2], [11, 4], [11, 6], [11, 8], [11, 10],

          // Tambahan dinding acak (tingkatkan kesulitan tanpa ganggu jalur utama)
          [1, 5], [3, 9], [5, 7], [7, 9], [9, 7], [10, 8]
        ],
      },
      {
        // Level 9: Long Path, Many Dead Ends
        rows: 15,
        cols: 15,
        start: { row: 0, col: 7 },
        end: { row: 14, col: 7 },
        walls: [
          [0, 0],
          [0, 1],
          [0, 2],
          [0, 3],
          [0, 4],
          [0, 5],
          [0, 6],
          [0, 8],
          [0, 9],
          [0, 10],
          [0, 11],
          [0, 12],
          [0, 13],
          [0, 14],
          [1, 2],
          [1, 3],
          [1, 4],
          [1, 6],
          [1, 8],
          [1, 10],
          [1, 11],
          [1, 12],
          [2, 0],
          [2, 1],
          [2, 2],
          [2, 4],
          [2, 6],
          [2, 8],
          [2, 10],
          [2, 12],
          [2, 13],
          [2, 14],
          [3, 2],
          [3, 4],
          [3, 6],
          [3, 8],
          [3, 10],
          [3, 12],
          [4, 0],
          [4, 1],
          [4, 2],
          [4, 4],
          [4, 6],

          [4, 8],
          [4, 10],
          [4, 12],
          [4, 13],
          [4, 14],
          [5, 2],
          [5, 4],
          [5, 10],
          [5, 12],
          [6, 0],
          [6, 1],
          [6, 2],
          [6, 3],
          [6, 4],
          [6, 6],
          [6, 7],
          [6, 8],
          [6, 10],
          [6, 12],
          [6, 13],
          [6, 14],
          [7, 2],
          [7, 6],
          [7, 8],
          [7, 10],
          [8, 0],
          [8, 1],
          [8, 2],
          [8, 4],
          [8, 5],
          [8, 6],
          [8, 8],
          [8, 10],
          [8, 12],
          [8, 13],
          [8, 14],
          [9, 2],
          [9, 4],
          [9, 8],
          [9, 10],
          [9, 12],
          [10, 0],
          [10, 2],
          [10, 4],
          [10, 5],
          [10, 6],
          [10, 7],
          [10, 8],
          [10, 10],
          [10, 12],
          [10, 13],
          [10, 14],
          [11, 2],
          [11, 4],
          [11, 10],
          [11, 12],
          [12, 0],
          [12, 1],
          [12, 2],
          [12, 4],
          [12, 6],

          [12, 8],
          [12, 10],
          [12, 12],
          [12, 13],
          [12, 14],
          [13, 2],
          [13, 4],
          [13, 6],
          [13, 8],
          [13, 10],
          [13, 12],
          [14, 0],
          [14, 1],
          [14, 2],
          [14, 3],
          [14, 4],
          [14, 5],
          [14, 6],
          [14, 8],
          [14, 9],
          [14, 10],
          [14, 11],
          [14, 12],
          [14, 13],
          [14, 14],
        ],
      },
      {
        // Level 10: Symmetric Deception
        rows: 13,
        cols: 13,
        start: { row: 0, col: 6 },
        end: { row: 12, col: 6 },
        walls: [
          [1, 1],
          [1, 2],
          [1, 3],
          [1, 4],
          [1, 5],
          [1, 7],

          [1, 9],
          [1, 10],
          [1, 11],
          [2, 1],
          [2, 5],
          [2, 7],
          [2, 11],
          [3, 1],
          [3, 2],
          [3, 3],
          [3, 5],
          [3, 7],
          [3, 9],
          [3, 10],
          [3, 11],
          [4, 3],
          [4, 5],
          [4, 7],
          [4, 9],
          [5, 0],
          [5, 1],
          [5, 2],
          [5, 3],
          [5, 5],
          [5, 6],
          [5, 7],
          [5, 9],
          [5, 10],
          [5, 11],
          [5, 12],

          [6, 9],

          [7, 1],
          [7, 2],
          [7, 3],
          [7, 5],
          [7, 6],
          [7, 7],
          [7, 9],
          [7, 10],
          [7, 11],
          [7, 12],
          [8, 3],
          [8, 5],
          [8, 7],
          [8, 9],
          [9, 1],
          [9, 2],
          [9, 3],
          [9, 5],
          [9, 7],
          [9, 9],
          [9, 10],
          [9, 11],
          [10, 1],
          [10, 5],
          [10, 7],
          [10, 11],
          [11, 1],
          [11, 2],
          [11, 3],
          [11, 4],
          [11, 5],
          [11, 7],
          [11, 8],
          [11, 9],
          [11, 10],
          [11, 11],
        ],
      },

      // --- Difficulty: Hard (Levels 11-15) ---
      // Larger mazes with very tricky paths.
      {
        // Level 11: The Labyrinth
        rows: 17,
        cols: 17,
        start: { row: 0, col: 8 },
        end: { row: 8, col: 8 },
        walls: [
          [1, 1],
          [1, 2],
          [1, 3],
          [1, 4],
          [1, 5],
          [1, 6],
          [1, 7],
          [1, 8],
          [1, 9],
          [1, 10],
          [1, 11],
          [1, 12],
          [1, 13],
          [1, 14],
          [1, 15],
          [2, 1],
          [2, 15],
          [3, 1],
          [3, 3],
          [3, 4],
          [3, 5],
          [3, 6],
          [3, 7],
          [3, 8],
          [3, 9],
          [3, 10],
          [3, 11],
          [3, 12],
          [3, 13],
          [3, 15],
          [4, 1],
          [4, 3],
          [4, 13],
          [4, 15],
          [5, 1],
          [5, 3],
          [5, 5],
          [5, 6],
          [5, 7],
          [5, 8],
          [5, 9],
          [5, 10],
          [5, 11],
          [5, 13],
          [5, 15],
          [6, 1],
          [6, 3],
          [6, 5],
          [6, 11],
          [6, 13],
          [6, 15],
          [7, 1],
          [7, 3],
          [7, 5],
          [7, 7],
          [7, 8],
          [7, 9],
          [7, 11],
          [7, 13],
          [7, 15],
          [8, 1],
          [8, 3],
          [8, 5],
          [8, 7],
          [8, 9],
          [8, 11],
          [8, 13],
          [8, 15],
          [9, 1],
          [9, 3],
          [9, 5],
          [9, 7],
          [9, 9],
          [9, 11],
          [9, 13],
          [9, 15],
          [10, 1],
          [10, 3],

          [10, 7],
          [10, 9],
          [10, 11],
          [10, 13],
          [10, 15],
          [11, 1],
          [11, 3],
          [11, 5],
          [11, 7],
          [11, 9],
          [11, 11],
          [11, 13],
          [11, 15],
          [12, 1],
          [12, 3],
          [12, 5],
          [12, 11],
          [12, 13],
          [12, 15],
          [13, 1],
          [13, 3],
          [13, 5],
          [13, 6],
          [13, 7],
          [13, 8],
          [13, 9],
          [13, 10],
          [13, 11],
          [13, 13],
          [13, 15],
          [14, 1],

          [14, 13],
          [14, 15],
          [15, 1],
          [15, 2],
          [15, 3],
          [15, 4],
          [15, 5],
          [15, 6],
          [15, 7],
          [15, 8],
          [15, 9],
          [15, 10],
          [15, 11],
          [15, 12],
          [15, 13],
          [15, 15],
        ],
      },
      {
        // Level 12: The Grid
        rows: 19,
        cols: 19,
        start: { row: 0, col: 0 },
        end: { row: 18, col: 18 },
        walls: [
          [0, 1],
          [0, 3],
          [0, 5],
          [0, 7],
          [0, 9],
          [0, 11],
          [0, 13],
          [0, 15],
          [0, 17],
          [1, 1],
          [1, 3],
          [1, 5],
          [1, 7],
          [1, 9],
          [1, 11],
          [1, 13],
          [1, 15],
          [1, 17],
          [2, 1],
          [2, 3],
          [2, 5],
          [2, 7],
          [2, 9],
          [2, 11],
          [2, 13],
          [2, 15],
          [2, 17],
          [3, 1],
          [3, 3],
          [3, 5],
          [3, 7],
          [3, 9],
          [3, 11],
          [3, 13],
          [3, 15],
          [3, 17],
          [4, 1],
          [4, 3],
          [4, 5],
          [4, 7],
          [4, 9],
          [4, 11],
          [4, 13],
          [4, 15],
          [4, 17],
          [5, 1],
          [5, 3],
          [5, 5],
          [5, 7],
          [5, 9],
          [5, 11],
          [5, 13],
          [5, 15],
          [5, 17],
          [6, 1],
          [6, 3],
          [6, 5],
          [6, 7],
          [6, 9],
          [6, 11],
          [6, 13],
          [6, 15],
          [6, 17],
          [7, 1],
          [7, 3],
          [7, 5],
          [7, 7],
          [7, 9],
          [7, 11],
          [7, 13],
          [7, 15],
          [7, 17],
          [8, 1],
          [8, 3],
          [8, 5],
          [8, 7],
          [8, 9],
          [8, 11],
          [8, 13],
          [8, 15],
          [8, 17],
          [9, 1],
          [9, 3],
          [9, 5],
          [9, 7],
          [9, 9],
          [9, 11],
          [9, 13],
          [9, 15],
          [9, 17],
          [10, 1],
          [10, 3],
          [10, 5],
          [10, 7],
          [10, 9],
          [10, 11],
          [10, 13],
          [10, 15],
          [10, 17],
          [11, 1],
          [11, 3],
          [11, 5],
          [11, 7],
          [11, 9],
          [11, 11],
          [11, 13],
          [11, 15],
          [11, 17],
          [12, 1],
          [12, 3],
          [12, 5],
          [12, 7],
          [12, 9],
          [12, 11],
          [12, 13],
          [12, 15],
          [12, 17],
          [13, 1],
          [13, 3],
          [13, 5],
          [13, 7],
          [13, 9],
          [13, 11],
          [13, 13],
          [13, 15],
          [13, 17],
          [14, 1],
          [14, 3],
          [14, 5],
          [14, 7],
          [14, 9],
          [14, 11],
          [14, 13],
          [14, 15],
          [14, 17],
          [15, 1],
          [15, 3],
          [15, 5],
          [15, 7],
          [15, 9],
          [15, 11],
          [15, 13],
          [15, 15],
          [15, 17],
          [16, 1],
          [16, 3],
          [16, 5],
          [16, 7],
          [16, 9],
          [16, 11],
          [16, 13],
          [16, 15],
          [16, 17],
          [17, 1],
          [17, 3],
          [17, 5],
          [17, 7],
          [17, 9],
          [17, 11],
          [17, 13],
          [17, 15],
          [17, 17],
        ],
      },
      {
        // Level 13: The Fortress
        rows: 21,
        cols: 21,
        start: { row: 10, col: 10 },
        end: { row: 0, col: 0 },
        walls: [
          [1, 1],
          [1, 2],
          [1, 3],
          [1, 4],
          [1, 5],
          [1, 6],
          [1, 7],
          [1, 8],
          [1, 9],
          [1, 10],
          [1, 11],
          [1, 12],
          [1, 13],
          [1, 14],
          [1, 15],
          [1, 16],
          [1, 17],
          [1, 18],
          [1, 19],
          [2, 1],
          [2, 19],
          [3, 1],
          [3, 3],
          [3, 4],
          [3, 5],
          [3, 6],
          [3, 7],
          [3, 8],
          [3, 9],
          [3, 10],
          [3, 11],
          [3, 12],
          [3, 13],
          [3, 14],
          [3, 15],
          [3, 16],
          [3, 17],
          [3, 19],
          [4, 1],
          [4, 3],
          [4, 17],
          [4, 19],
          [5, 1],
          [5, 3],
          [5, 5],
          [5, 6],
          [5, 7],
          [5, 8],
          [5, 9],
          [5, 10],
          [5, 11],
          [5, 12],
          [5, 13],
          [5, 14],
          [5, 15],
          [5, 17],
          [5, 19],
          [6, 1],
          [6, 3],
          [6, 5],
          [6, 15],
          [6, 17],
          [6, 19],
          [7, 1],
          [7, 3],
          [7, 5],
          [7, 7],
          [7, 8],
          [7, 9],
          [7, 10],
          [7, 11],
          [7, 12],
          [7, 13],
          [7, 15],
          [7, 17],
          [7, 19],
          [8, 1],
          [8, 3],
          [8, 5],
          [8, 7],
          [8, 13],
          [8, 15],
          [8, 17],
          [8, 19],
          [9, 1],
          [9, 3],
          [9, 5],
          [9, 7],
          [9, 9],
          [9, 10],
          [9, 11],
          [9, 13],
          [9, 15],
          [9, 17],
          [9, 19],
          [10, 1],
          [10, 3],
          [10, 5],
          [10, 7],
          [10, 9],
          [10, 11],
          [10, 13],
          [10, 15],
          [10, 17],
          [10, 19],
          [11, 1],
          [11, 3],
          [11, 5],
          [11, 7],
          [11, 9],
          [11, 11],
          [11, 13],
          [11, 15],
          [11, 17],
          [11, 19],
          [12, 1],
          [12, 3],
          [12, 5],
          [12, 7],
          [12, 9],
          [12, 11],
          [12, 13],
          [12, 15],
          [12, 17],
          [12, 19],
          [13, 1],
          [13, 3],
          [13, 5],
          [13, 7],
          [13, 13],
          [13, 15],
          [13, 17],
          [13, 19],
          [14, 1],
          [14, 3],
          [14, 5],
          [14, 7],
          [14, 8],
          [14, 9],
          [14, 10],
          [14, 11],
          [14, 12],
          [14, 13],
          [14, 15],
          [14, 17],
          [14, 19],
          [15, 1],
          [15, 3],
          [15, 5],
          [15, 15],
          [15, 17],
          [15, 19],
          [16, 1],
          [16, 3],
          [16, 5],
          [16, 6],
          [16, 7],
          [16, 8],
          [16, 9],
          [16, 10],
          [16, 11],
          [16, 12],
          [16, 13],
          [16, 14],
          [16, 15],
          [16, 17],
          [16, 19],
          [17, 1],
          [17, 3],
          [17, 17],
          [17, 19],
          [18, 1],
          [18, 3],
          [18, 4],
          [18, 5],
          [18, 6],
          [18, 7],
          [18, 8],
          [18, 9],
          [18, 10],
          [18, 11],
          [18, 12],
          [18, 13],
          [18, 14],
          [18, 15],
          [18, 16],
          [18, 17],
          [18, 19],
          [19, 1],
          [19, 19],
        ],
      },
      {
        // Level 14: River Delta
        rows: 23,
        cols: 23,
        start: { row: 0, col: 11 },
        end: { row: 22, col: 11 },
        walls: [
          [1, 0],
          [1, 1],
          [1, 2],
          [1, 3],
          [1, 4],
          [1, 5],
          [1, 6],
          [1, 7],
          [1, 8],
          [1, 9],
          [1, 10],
          [1, 12],
          [1, 13],
          [1, 14],
          [1, 15],
          [1, 16],
          [1, 17],
          [1, 18],
          [1, 19],
          [1, 20],
          [1, 21],
          [1, 22],
          [2, 5],
          [2, 17],
          [3, 0],
          [3, 1],
          [3, 2],
          [3, 3],
          [3, 5],
          [3, 6],
          [3, 7],
          [3, 8],
          [3, 9],
          [3, 10],
          [3, 11],
          [3, 12],
          [3, 13],
          [3, 14],
          [3, 15],
          [3, 17],
          [3, 18],
          [3, 19],
          [3, 20],
          [3, 21],
          [3, 22],
          [4, 3],
          [4, 9],
          [4, 13],
          [4, 19],
          [5, 0],
          [5, 1],
          [5, 3],
          [5, 4],
          [5, 5],
          [5, 6],
          [5, 7],
          [5, 9],
          [5, 13],
          [5, 15],
          [5, 16],
          [5, 17],
          [5, 18],
          [5, 19],
          [5, 21],
          [5, 22],
          [6, 1],
          [6, 7],
          [6, 9],
          [6, 10],
          [6, 11],
          [6, 12],
          [6, 13],
          [6, 15],
          [6, 21],
          [7, 1],
          [7, 2],
          [7, 3],
          [7, 4],
          [7, 5],
          [7, 7],
          [7, 15],
          [7, 16],
          [7, 17],
          [7, 18],
          [7, 19],
          [7, 20],
          [7, 21],
          [8, 5],
          [8, 7],
          [8, 8],
          [8, 9],
          [8, 10],
          [8, 11],
          [8, 12],
          [8, 13],
          [8, 14],
          [8, 15],
          [9, 0],
          [9, 1],
          [9, 2],
          [9, 3],
          [9, 5],
          [9, 17],
          [9, 18],
          [9, 19],
          [9, 20],
          [9, 21],
          [9, 22],
          [10, 3],
          [10, 5],
          [10, 6],
          [10, 7],
          [10, 8],
          [10, 9],
          [10, 10],
          [10, 11],
          [10, 12],
          [10, 13],
          [10, 14],
          [10, 15],
          [10, 16],
          [10, 17],
          [10, 19],
          [11, 1],
          [11, 3],
          [11, 19],
          [11, 21],
          [12, 1],
          [12, 3],
          [12, 4],
          [12, 5],
          [12, 6],
          [12, 7],
          [12, 8],
          [12, 9],
          [12, 10],
          [12, 11],
          [12, 12],
          [12, 13],
          [12, 14],
          [12, 15],
          [12, 16],
          [12, 17],
          [12, 18],
          [12, 19],
          [12, 21],
          [13, 1],
          [13, 21],
          [14, 1],
          [14, 2],
          [14, 3],
          [14, 4],
          [14, 5],
          [14, 6],
          [14, 7],
          [14, 8],
          [14, 9],
          [14, 10],
          [14, 11],
          [14, 12],
          [14, 13],
          [14, 14],
          [14, 15],
          [14, 16],
          [14, 17],
          [14, 18],
          [14, 19],
          [14, 20],
          [14, 21],
          [15, 3],
          [15, 19],
          [16, 0],
          [16, 1],
          [16, 3],
          [16, 4],
          [16, 5],
          [16, 6],
          [16, 7],
          [16, 8],
          [16, 9],
          [16, 10],
          [16, 11],
          [16, 12],
          [16, 13],
          [16, 14],
          [16, 15],
          [16, 16],
          [16, 17],
          [16, 18],
          [16, 19],
          [16, 21],
          [16, 22],
          [17, 1],
          [17, 21],
          [18, 1],
          [18, 3],
          [18, 4],
          [18, 5],
          [18, 6],
          [18, 7],
          [18, 8],
          [18, 9],
          [18, 10],
          [18, 11],
          [18, 12],
          [18, 13],
          [18, 14],
          [18, 15],
          [18, 16],
          [18, 17],
          [18, 18],
          [18, 19],
          [18, 20],
          [18, 21],
          [19, 3],
          [19, 19],
          [20, 0],
          [20, 1],
          [20, 3],
          [20, 4],
          [20, 5],
          [20, 6],
          [20, 7],
          [20, 8],
          [20, 9],
          [20, 10],
          [20, 11],
          [20, 12],
          [20, 13],
          [20, 14],
          [20, 15],
          [20, 16],
          [20, 17],
          [20, 18],
          [20, 19],
          [20, 21],
          [20, 22],
          [21, 1],
          [21, 21],
        ],
      },
      {
        // Level 15: The Gauntlet
        rows: 25,
        cols: 25,
        start: { row: 0, col: 12 },
        end: { row: 24, col: 12 },
        walls: [
          [1, 1],
          [1, 2],
          [1, 3],
          [1, 4],
          [1, 5],
          [1, 6],
          [1, 7],
          [1, 8],
          [1, 9],
          [1, 10],
          [1, 11],
          [1, 13],
          [1, 14],
          [1, 15],
          [1, 16],
          [1, 17],
          [1, 18],
          [1, 19],
          [1, 20],
          [1, 21],
          [1, 22],
          [1, 23],
          [2, 1],
          [2, 23],
          [3, 1],
          [3, 3],
          [3, 4],
          [3, 5],
          [3, 6],
          [3, 7],
          [3, 8],
          [3, 9],
          [3, 10],
          [3, 11],
          [3, 12],
          [3, 13],
          [3, 14],
          [3, 15],
          [3, 16],
          [3, 17],
          [3, 18],
          [3, 19],
          [3, 20],
          [3, 21],
          [3, 23],
          [4, 1],
          [4, 3],
          [4, 21],
          [4, 23],
          [5, 1],
          [5, 3],
          [5, 5],
          [5, 6],
          [5, 7],
          [5, 8],
          [5, 9],
          [5, 10],
          [5, 11],
          [5, 13],
          [5, 14],
          [5, 15],
          [5, 16],
          [5, 17],
          [5, 18],
          [5, 19],
          [5, 21],
          [5, 23],
          [6, 1],
          [6, 3],
          [6, 5],
          [6, 19],
          [6, 21],
          [6, 23],
          [7, 1],
          [7, 3],
          [7, 5],
          [7, 7],
          [7, 8],
          [7, 9],
          [7, 10],
          [7, 11],
          [7, 12],
          [7, 13],
          [7, 14],
          [7, 15],
          [7, 16],
          [7, 17],
          [7, 19],
          [7, 21],
          [7, 23],
          [8, 1],
          [8, 3],
          [8, 5],
          [8, 7],
          [8, 17],
          [8, 19],
          [8, 21],
          [8, 23],
          [9, 1],
          [9, 3],
          [9, 5],
          [9, 7],
          [9, 9],
          [9, 10],
          [9, 11],
          [9, 13],
          [9, 14],
          [9, 15],
          [9, 17],
          [9, 19],
          [9, 21],
          [9, 23],
          [10, 1],
          [10, 3],
          [10, 5],
          [10, 7],
          [10, 9],
          [10, 15],
          [10, 17],
          [10, 19],
          [10, 21],
          [10, 23],
          [11, 1],
          [11, 3],
          [11, 5],
          [11, 7],
          [11, 9],
          [11, 11],
          [11, 12],
          [11, 13],
          [11, 15],
          [11, 17],
          [11, 19],
          [11, 21],
          [11, 23],
          [12, 1],
          [12, 3],
          [12, 5],
          [12, 7],
          [12, 9],
          [12, 11],
          [12, 13],
          [12, 15],
          [12, 17],
          [12, 19],
          [12, 21],
          [12, 23],
          [13, 1],
          [13, 3],
          [13, 5],
          [13, 7],
          [13, 9],
          [13, 11],
          [13, 13],
          [13, 15],
          [13, 17],
          [13, 19],
          [13, 21],
          [13, 23],
          [14, 1],
          [14, 3],
          [14, 5],
          [14, 7],
          [14, 9],
          [14, 11],
          [14, 13],
          [14, 15],
          [14, 17],
          [14, 19],
          [14, 21],
          [14, 23],
          [15, 1],
          [15, 3],
          [15, 5],
          [15, 7],
          [15, 9],
          [15, 11],
          [15, 13],
          [15, 15],
          [15, 17],
          [15, 19],
          [15, 21],
          [15, 23],
          [16, 1],
          [16, 3],
          [16, 5],
          [16, 7],
          [16, 9],
          [16, 11],
          [16, 13],
          [16, 15],
          [16, 17],
          [16, 19],
          [16, 21],
          [16, 23],
          [17, 1],
          [17, 3],
          [17, 5],
          [17, 7],
          [17, 9],
          [17, 11],
          [17, 13],
          [17, 15],
          [17, 17],
          [17, 19],
          [17, 21],
          [17, 23],
          [18, 1],
          [18, 3],
          [18, 5],
          [18, 7],
          [18, 9],
          [18, 11],
          [18, 13],
          [18, 15],
          [18, 17],
          [18, 19],
          [18, 21],
          [18, 23],
          [19, 1],
          [19, 3],
          [19, 5],
          [19, 7],
          [19, 9],
          [19, 11],
          [19, 13],
          [19, 15],
          [19, 17],
          [19, 19],
          [19, 21],
          [19, 23],
          [20, 1],
          [20, 3],
          [20, 5],
          [20, 7],
          [20, 9],
          [20, 11],
          [20, 13],
          [20, 15],
          [20, 17],
          [20, 19],
          [20, 21],
          [20, 23],
          [21, 1],
          [21, 3],
          [21, 5],
          [21, 7],
          [21, 9],
          [21, 11],
          [21, 13],
          [21, 15],
          [21, 17],
          [21, 19],
          [21, 21],
          [21, 23],
          [22, 1],
          [22, 3],
          [22, 5],
          [22, 7],
          [22, 9],
          [22, 11],
          [22, 13],
          [22, 15],
          [22, 17],
          [22, 19],
          [22, 21],
          [22, 23],
          [23, 1],
          [23, 3],
          [23, 5],
          [23, 7],
          [23, 9],
          [23, 11],
          [23, 13],
          [23, 15],
          [23, 17],
          [23, 19],
          [23, 21],
          [23, 23],
        ],
      },
    ];

    const polarisLevels = [
      {
        size: 8,
        start: { x: 0, y: 0 },
        target: { x: 7, y: 7 },
        obstacles: [{ x: 2, y: 2 }, { x: 3, y: 2 }, { x: 4, y: 2 }, { x: 2, y: 5 }, { x: 3, y: 5 }, { x: 4, y: 5 }],
        stars: [{ x: 1, y: 3, collected: false }, { x: 5, y: 1, collected: false }, { x: 6, y: 4, collected: false }],
        magneticFields: [{ x: 3, y: 3, strength: 1 }, { x: 5, y: 5, strength: -1 }]
      },
      {
        size: 10,
        start: { x: 0, y: 0 },
        target: { x: 9, y: 9 },
        obstacles: [{ x: 2, y: 1 }, { x: 2, y: 2 }, { x: 2, y: 3 }, { x: 2, y: 4 }, { x: 6, y: 5 }, { x: 6, y: 6 }, { x: 6, y: 7 }, { x: 6, y: 8 }],
        stars: [{ x: 1, y: 5, collected: false }, { x: 3, y: 1, collected: false }, { x: 7, y: 3, collected: false }, { x: 8, y: 6, collected: false }],
        magneticFields: [{ x: 4, y: 4, strength: 1 }, { x: 7, y: 7, strength: -1 }, { x: 1, y: 8, strength: 1 }]
      },
      {
        size: 12,
        start: { x: 0, y: 0 },
        target: { x: 11, y: 11 },
        obstacles: [
          { x: 3, y: 1 }, { x: 3, y: 2 }, { x: 3, y: 3 }, { x: 3, y: 4 },
          { x: 8, y: 6 }, { x: 8, y: 7 }, { x: 8, y: 8 }, { x: 8, y: 9 },
          { x: 1, y: 8 }, { x: 2, y: 8 }, { x: 4, y: 8 }, { x: 5, y: 8 }
        ],
        stars: [{ x: 1, y: 4, collected: false }, { x: 5, y: 1, collected: false }, { x: 9, y: 5, collected: false }, { x: 6, y: 9, collected: false }, { x: 10, y: 7, collected: false }],
        magneticFields: [{ x: 5, y: 5, strength: 1 }, { x: 9, y: 9, strength: -1 }, { x: 2, y: 10, strength: 1 }]
      },
      {
        size: 14,
        start: { x: 0, y: 0 },
        target: { x: 13, y: 13 },
        obstacles: [
          { x: 4, y: 2 }, { x: 4, y: 3 }, { x: 4, y: 4 }, { x: 4, y: 5 }, { x: 4, y: 6 },
          { x: 9, y: 7 }, { x: 9, y: 8 }, { x: 9, y: 9 }, { x: 9, y: 10 }, { x: 9, y: 11 },
          { x: 2, y: 9 }, { x: 3, y: 9 }, { x: 5, y: 9 }, { x: 6, y: 9 }, { x: 7, y: 9 }
        ],
        stars: [
          { x: 2, y: 5, collected: false }, { x: 6, y: 2, collected: false }, { x: 11, y: 6, collected: false },
          { x: 7, y: 11, collected: false }, { x: 12, y: 8, collected: false }, { x: 1, y: 12, collected: false }
        ],
        magneticFields: [{ x: 6, y: 6, strength: 1 }, { x: 11, y: 11, strength: -1 }, { x: 3, y: 12, strength: 1 }, { x: 12, y: 3, strength: -1 }]
      },
      {
        size: 16,
        start: { x: 0, y: 0 },
        target: { x: 15, y: 15 },
        obstacles: [
          { x: 5, y: 3 }, { x: 5, y: 4 }, { x: 5, y: 5 }, { x: 5, y: 6 }, { x: 5, y: 7 }, { x: 5, y: 8 },
          { x: 10, y: 8 }, { x: 10, y: 9 }, { x: 10, y: 10 }, { x: 10, y: 11 }, { x: 10, y: 12 },
          { x: 3, y: 11 }, { x: 4, y: 11 }, { x: 6, y: 11 }, { x: 7, y: 11 }, { x: 8, y: 11 }, { x: 9, y: 11 }
        ],
        stars: [
          { x: 2, y: 6, collected: false }, { x: 7, y: 3, collected: false }, { x: 12, y: 7, collected: false },
          { x: 8, y: 13, collected: false }, { x: 13, y: 9, collected: false }, { x: 1, y: 14, collected: false }, { x: 14, y: 2, collected: false }
        ],
        magneticFields: [{ x: 7, y: 7, strength: 1 }, { x: 13, y: 13, strength: -1 }, { x: 4, y: 14, strength: 1 }, { x: 14, y: 4, strength: -1 }]
      },
      {
        size: 18,
        start: { x: 0, y: 0 },
        target: { x: 17, y: 17 },
        obstacles: [
          { x: 6, y: 4 }, { x: 6, y: 5 }, { x: 6, y: 6 }, { x: 6, y: 7 }, { x: 6, y: 8 }, { x: 6, y: 9 }, { x: 6, y: 10 },
          { x: 11, y: 9 }, { x: 11, y: 10 }, { x: 11, y: 11 }, { x: 11, y: 12 }, { x: 11, y: 13 }, { x: 11, y: 14 },
          { x: 4, y: 13 }, { x: 5, y: 13 }, { x: 7, y: 13 }, { x: 8, y: 13 }, { x: 9, y: 13 }, { x: 10, y: 13 }
        ],
        stars: [
          { x: 3, y: 7, collected: false }, { x: 8, y: 4, collected: false }, { x: 13, y: 8, collected: false },
          { x: 9, y: 15, collected: false }, { x: 14, y: 10, collected: false }, { x: 2, y: 16, collected: false },
          { x: 15, y: 3, collected: false }, { x: 16, y: 14, collected: false }
        ],
        magneticFields: [{ x: 8, y: 8, strength: 1 }, { x: 15, y: 15, strength: -1 }, { x: 5, y: 16, strength: 1 }, { x: 16, y: 5, strength: -1 }]
      },
      {
        size: 20,
        start: { x: 0, y: 0 },
        target: { x: 19, y: 19 },
        obstacles: [
          { x: 7, y: 5 }, { x: 7, y: 6 }, { x: 7, y: 7 }, { x: 7, y: 8 }, { x: 7, y: 9 }, { x: 7, y: 10 }, { x: 7, y: 11 }, { x: 7, y: 12 },
          { x: 12, y: 10 }, { x: 12, y: 11 }, { x: 12, y: 12 }, { x: 12, y: 13 }, { x: 12, y: 14 }, { x: 12, y: 15 }, { x: 12, y: 16 },
          { x: 5, y: 15 }, { x: 6, y: 15 }, { x: 8, y: 15 }, { x: 9, y: 15 }, { x: 10, y: 15 }, { x: 11, y: 15 }
        ],
        stars: [
          { x: 4, y: 8, collected: false }, { x: 9, y: 5, collected: false }, { x: 14, y: 9, collected: false },
          { x: 10, y: 17, collected: false }, { x: 15, y: 11, collected: false }, { x: 3, y: 18, collected: false },
          { x: 16, y: 4, collected: false }, { x: 17, y: 15, collected: false }, { x: 18, y: 7, collected: false }
        ],
        magneticFields: [{ x: 9, y: 9, strength: 1 }, { x: 17, y: 17, strength: -1 }, { x: 6, y: 18, strength: 1 }, { x: 18, y: 6, strength: -1 }]
      },
      {
        size: 22,
        start: { x: 0, y: 0 },
        target: { x: 21, y: 21 },
        obstacles: [
          { x: 8, y: 6 }, { x: 8, y: 7 }, { x: 8, y: 8 }, { x: 8, y: 9 }, { x: 8, y: 10 }, { x: 8, y: 11 }, { x: 8, y: 12 }, { x: 8, y: 13 }, { x: 8, y: 14 },
          { x: 13, y: 11 }, { x: 13, y: 12 }, { x: 13, y: 13 }, { x: 13, y: 14 }, { x: 13, y: 15 }, { x: 13, y: 16 }, { x: 13, y: 17 }, { x: 13, y: 18 },
          { x: 6, y: 17 }, { x: 7, y: 17 }, { x: 9, y: 17 }, { x: 10, y: 17 }, { x: 11, y: 17 }, { x: 12, y: 17 }
        ],
        stars: [
          { x: 5, y: 9, collected: false }, { x: 10, y: 6, collected: false }, { x: 15, y: 10, collected: false },
          { x: 11, y: 19, collected: false }, { x: 16, y: 12, collected: false }, { x: 4, y: 20, collected: false },
          { x: 17, y: 5, collected: false }, { x: 18, y: 16, collected: false }, { x: 19, y: 8, collected: false }, { x: 20, y: 18, collected: false }
        ],
        magneticFields: [{ x: 10, y: 10, strength: 1 }, { x: 19, y: 19, strength: -1 }, { x: 7, y: 20, strength: 1 }, { x: 20, y: 7, strength: -1 }]
      },
      {
        size: 24,
        start: { x: 0, y: 0 },
        target: { x: 23, y: 23 },
        obstacles: [
          { x: 9, y: 7 }, { x: 9, y: 8 }, { x: 9, y: 9 }, { x: 9, y: 10 }, { x: 9, y: 11 }, { x: 9, y: 12 }, { x: 9, y: 13 }, { x: 9, y: 14 }, { x: 9, y: 15 }, { x: 9, y: 16 },
          { x: 14, y: 12 }, { x: 14, y: 13 }, { x: 14, y: 14 }, { x: 14, y: 15 }, { x: 14, y: 16 }, { x: 14, y: 17 }, { x: 14, y: 18 }, { x: 14, y: 19 }, { x: 14, y: 20 },
          { x: 7, y: 19 }, { x: 8, y: 19 }, { x: 10, y: 19 }, { x: 11, y: 19 }, { x: 12, y: 19 }, { x: 13, y: 19 }
        ],
        stars: [
          { x: 6, y: 10, collected: false }, { x: 11, y: 7, collected: false }, { x: 16, y: 11, collected: false },
          { x: 12, y: 21, collected: false }, { x: 17, y: 13, collected: false }, { x: 5, y: 22, collected: false },
          { x: 18, y: 6, collected: false }, { x: 19, y: 17, collected: false }, { x: 20, y: 9, collected: false },
          { x: 21, y: 19, collected: false }, { x: 22, y: 11, collected: false }
        ],
        magneticFields: [{ x: 11, y: 11, strength: 1 }, { x: 21, y: 21, strength: -1 }, { x: 8, y: 22, strength: 1 }, { x: 22, y: 8, strength: -1 }]
      },
      {
        size: 26,
        start: { x: 0, y: 0 },
        target: { x: 25, y: 25 },
        obstacles: [
          { x: 10, y: 8 }, { x: 10, y: 9 }, { x: 10, y: 10 }, { x: 10, y: 11 }, { x: 10, y: 12 }, { x: 10, y: 13 }, { x: 10, y: 14 }, { x: 10, y: 15 }, { x: 10, y: 16 }, { x: 10, y: 17 }, { x: 10, y: 18 },
          { x: 15, y: 13 }, { x: 15, y: 14 }, { x: 15, y: 15 }, { x: 15, y: 16 }, { x: 15, y: 17 }, { x: 15, y: 18 }, { x: 15, y: 19 }, { x: 15, y: 20 }, { x: 15, y: 21 }, { x: 15, y: 22 },
          { x: 8, y: 21 }, { x: 9, y: 21 }, { x: 11, y: 21 }, { x: 12, y: 21 }, { x: 13, y: 21 }, { x: 14, y: 21 }
        ],
        stars: [
          { x: 7, y: 11, collected: false }, { x: 12, y: 8, collected: false }, { x: 17, y: 12, collected: false },
          { x: 13, y: 23, collected: false }, { x: 18, y: 14, collected: false }, { x: 6, y: 24, collected: false },
          { x: 19, y: 7, collected: false }, { x: 20, y: 18, collected: false }, { x: 21, y: 10, collected: false },
          { x: 22, y: 20, collected: false }, { x: 23, y: 12, collected: false }, { x: 24, y: 22, collected: false }
        ],
        magneticFields: [{ x: 12, y: 12, strength: 1 }, { x: 23, y: 23, strength: -1 }, { x: 9, y: 24, strength: 1 }, { x: 24, y: 9, strength: -1 }]
      },
      {
        size: 28,
        start: { x: 0, y: 0 },
        target: { x: 27, y: 27 },
        obstacles: [
          { x: 11, y: 9 }, { x: 11, y: 10 }, { x: 11, y: 11 }, { x: 11, y: 12 }, { x: 11, y: 13 }, { x: 11, y: 14 }, { x: 11, y: 15 }, { x: 11, y: 16 }, { x: 11, y: 17 }, { x: 11, y: 18 }, { x: 11, y: 19 }, { x: 11, y: 20 },
          { x: 16, y: 14 }, { x: 16, y: 15 }, { x: 16, y: 16 }, { x: 16, y: 17 }, { x: 16, y: 18 }, { x: 16, y: 19 }, { x: 16, y: 20 }, { x: 16, y: 21 }, { x: 16, y: 22 }, { x: 16, y: 23 }, { x: 16, y: 24 },
          { x: 9, y: 23 }, { x: 10, y: 23 }, { x: 12, y: 23 }, { x: 13, y: 23 }, { x: 14, y: 23 }, { x: 15, y: 23 }
        ],
        stars: [
          { x: 8, y: 12, collected: false }, { x: 13, y: 9, collected: false }, { x: 18, y: 13, collected: false },
          { x: 14, y: 25, collected: false }, { x: 19, y: 15, collected: false }, { x: 7, y: 26, collected: false },
          { x: 20, y: 8, collected: false }, { x: 21, y: 19, collected: false }, { x: 22, y: 11, collected: false },
          { x: 23, y: 21, collected: false }, { x: 24, y: 13, collected: false }, { x: 25, y: 23, collected: false }, { x: 26, y: 15, collected: false }
        ],
        magneticFields: [{ x: 13, y: 13, strength: 1 }, { x: 25, y: 25, strength: -1 }, { x: 10, y: 26, strength: 1 }, { x: 26, y: 10, strength: -1 }]
      },
      {
        size: 30,
        start: { x: 0, y: 0 },
        target: { x: 29, y: 29 },
        obstacles: [
          { x: 12, y: 10 }, { x: 12, y: 11 }, { x: 12, y: 12 }, { x: 12, y: 13 }, { x: 12, y: 14 }, { x: 12, y: 15 }, { x: 12, y: 16 }, { x: 12, y: 17 }, { x: 12, y: 18 }, { x: 12, y: 19 }, { x: 12, y: 20 }, { x: 12, y: 21 }, { x: 12, y: 22 },
          { x: 17, y: 15 }, { x: 17, y: 16 }, { x: 17, y: 17 }, { x: 17, y: 18 }, { x: 17, y: 19 }, { x: 17, y: 20 }, { x: 17, y: 21 }, { x: 17, y: 22 }, { x: 17, y: 23 }, { x: 17, y: 24 }, { x: 17, y: 25 }, { x: 17, y: 26 },
          { x: 10, y: 25 }, { x: 11, y: 25 }, { x: 13, y: 25 }, { x: 14, y: 25 }, { x: 15, y: 25 }, { x: 16, y: 25 }
        ],
        stars: [
          { x: 9, y: 13, collected: false }, { x: 14, y: 10, collected: false }, { x: 19, y: 14, collected: false },
          { x: 15, y: 27, collected: false }, { x: 20, y: 16, collected: false }, { x: 8, y: 28, collected: false },
          { x: 21, y: 9, collected: false }, { x: 22, y: 20, collected: false }, { x: 23, y: 12, collected: false },
          { x: 24, y: 22, collected: false }, { x: 25, y: 14, collected: false }, { x: 26, y: 24, collected: false },
          { x: 27, y: 16, collected: false }, { x: 28, y: 26, collected: false }
        ],
        magneticFields: [{ x: 14, y: 14, strength: 1 }, { x: 27, y: 27, strength: -1 }, { x: 11, y: 28, strength: 1 }, { x: 28, y: 11, strength: -1 }]
      }
    ];

    const wordBuildingChallenges = [
      {
        letters: ["K", "O", "M", "P", "L", "E", "K", "S", "I", "T", "A", "S"],
        targetWords: ["KOMPLEKS", "KOMPLEK", "SIMPEL", "KOMPAS", "TEKS", "KELAS", "SIKLUS", "POLITIK", "PLASTIK", "ELASTIK", "SKEPTIS", "TAKTIS", "MISTIK", "KOST", "SLOT", "TIPS", "KOPI", "SAPI", "PASTI", "TOPI"],
        minWords: 8,
        timeLimit: 180
      },
      {
        letters: ["P", "R", "O", "D", "U", "K", "T", "I", "V", "I", "T", "A", "S"],
        targetWords: ["PRODUKTIVITAS", "PRODUKTIV", "AKTIVITAS", "KREATIF", "ADAPTIF", "POSITIF", "AKTIF", "PRAKTIS", "DRASTIS", "ARTISTIK", "STATISTIK", "PRIVAT", "RAPID", "VALID", "SOLID", "VIRUS", "DOSIS", "RADIO", "STUDIO", "AUDIT"],
        minWords: 7,
        timeLimit: 200
      },
      {
        letters: ["S", "A", "K", "U", "R", "A", "N", "E", "K", "O", "M", "I", "D"],
        targetWords: ["SAKURA", "SENKA", "NEKO", "DOKU", "KAMI", "SADO", "OKUDA", "ARASUJI", "TORA", "RAKU", "KASA", "SENSU", "KURO", "SORA", "KOI", "KURA", "KUSUDAMA", "KAIRO", "AKU", "SUDO"],
        minWords: 8,
        timeLimit: 180
      },
      {
        letters: ["I", "N", "T", "E", "L", "L", "I", "G", "E", "N", "C", "E"],
        targetWords: ["INTEL", "GENIUS", "ENGINE", "LINE", "NICE", "CELL", "LENT", "CLING", "GENIE", "LICE", "TILE", "TELL", "GLEN", "GENTLE", "ELEGENT", "LIT", "NET", "TEN", "ICE", "LEG"],
        minWords: 10,
        timeLimit: 150
      },
      {
        letters: ["C", "R", "E", "A", "T", "I", "V", "I", "T", "Y"],
        targetWords: ["CREATIVE", "CRAVE", "RITE", "CITY", "TIRE", "TIE", "CAT", "CAVE", "VET", "ART", "VAT", "RAY", "ICE", "TRY", "RIVET", "VARY", "VERT", "CITE", "TEAR", "ARC"],
        minWords: 7,
        timeLimit: 160
      },
      {
        letters: ["E", "N", "V", "I", "R", "O", "N", "M", "E", "N", "T"],
        targetWords: ["ENVIRONMENT", "NORM", "MENTOR", "NERVE", "EVENT", "MINE", "TEN", "NET", "MORN", "TERM", "INVENT", "MOVE", "VOTE", "INTER", "NEON", "RENT", "TONE", "NOTE", "IRON", "OMEN"],
        minWords: 8,
        timeLimit: 180
      },
      {
        letters: ["B", "U", "D", "A", "Y", "A", "L", "O", "K", "A", "L"],
        targetWords: ["BUDAYA", "LOKAL", "KOLAB", "BALOK", "LABA", "KODA", "BOLA", "AKAL", "ALOK", "LOBA", "DOKA", "KAYA", "ADUK", "DULU", "KULO", "KULA", "BAYU", "LUAR", "ULAK", "KOLA"],
        minWords: 8,
        timeLimit: 170
      },
      {
        letters: ["G", "A", "M", "I", "F", "I", "K", "A", "S", "I"],
        targetWords: ["GAMIFIKASI", "GAMING", "KASI", "FIKSI", "KISAH", "ASIK", "SIAGA", "SIGMA", "KIAS", "FIKIR", "GAS", "ISA", "KAMI", "SISI", "MAKI", "SAKI", "SIA", "MAGI", "SIFA", "FIKA"],
        minWords: 7,
        timeLimit: 150
      },
      {
        letters: ["H", "I", "K", "A", "R", "U", "M", "A", "K", "I"],
        targetWords: ["HIKARU", "MAKI", "KUMA", "KARI", "HARU", "AKI", "HARI", "RUKI", "KAMI", "IKARU", "MAKU", "KIRA", "ARU", "KAI", "HIKA", "KIKU", "HIMA", "RIMA", "AIM", "IKA"],
        minWords: 7,
        timeLimit: 140
      },
      {
        letters: ["S", "T", "A", "R", "T", "U", "P", "B", "I", "S", "N", "I", "S"],
        targetWords: ["STARTUP", "BISNIS", "TIPS", "BITS", "SISTEM", "BINTANG", "SPIN", "TUNIS", "PINTAR", "TRUST", "SUN", "TUB", "BUST", "BURN", "RUST", "BUS", "NIP", "SIN", "SUB", "TAP"],
        minWords: 9,
        timeLimit: 180
      },
      {
        letters: ["T", "E", "K", "N", "O", "L", "O", "G", "I"],
        targetWords: ["TEKNOLOGI", "LOGIN", "GENTOK", "TEKO", "TIK", "KIN", "LOT", "GEN", "LOG", "KIT", "GIN", "TEN", "GEL", "NET", "LEG", "INK", "OIL", "TON", "LET", "EGO"],
        minWords: 6,
        timeLimit: 140
      },
      {
        letters: ["K", "A", "R", "A", "K", "T", "E", "R"],
        targetWords: ["KARAKTER", "KARAT", "KATA", "TERKA", "KERA", "AKAR", "RATA", "TAKA", "ARTA", "KART", "TEKA", "TERA", "TARA", "RAKA", "KER", "RET", "ARK", "TER", "ERA", "ART"],
        minWords: 6,
        timeLimit: 130
      },
      {
        letters: ["A", "S", "T", "R", "O", "N", "O", "M", "I"],
        targetWords: ["ASTRONOMI", "ASTRO", "STROM", "NOMOR", "ROMA", "ATOM", "SARI", "ROTI", "MORTI", "MISO", "SOMA", "ORAM", "AMOR", "STAR", "TRIO", "AIR", "RAN", "MOI", "ARM", "SIT"],
        minWords: 7,
        timeLimit: 170
      },
      {
        letters: ["P", "E", "M", "B", "E", "L", "A", "J", "A", "R", "A", "N"],
        targetWords: ["PEMBELAJARAN", "BELAJAR", "AJARAN", "BELA", "RAJA", "LAMA", "RAMA", "LARA", "BARA", "MARA", "ALAM", "JARI", "BARA", "RAJA", "ARE", "PELA", "BELA", "JARA", "RANA", "PENA"],
        minWords: 8,
        timeLimit: 190
      },
      {
        letters: ["E", "K", "S", "P", "L", "O", "R", "A", "S", "I"],
        targetWords: ["EKSPLORASI", "EKSPLO", "LARIS", "POLAR", "SIAL", "SORA", "RAIS", "PISA", "KIOS", "SOLAR", "SKOR", "LOKA", "RIAS", "ALIR", "ISRA", "ROSA", "SORA", "ASKI", "SIAP", "PERI"],
        minWords: 7,
        timeLimit: 160
      },
      {
        letters: ["T", "E", "K", "N", "I", "S", "I", "A", "N"],
        targetWords: ["TEKNISIAN", "TEKNISI", "TEKNIK", "SENI", "ISTANA", "SIANTAR", "NAIK", "SITA", "TEKA", "KASI", "NET", "NIK", "SEN", "TIN", "TAN", "SIA", "AIT", "ANEK", "KITA", "SANK"],
        minWords: 6,
        timeLimit: 140
      },
      {
        letters: ["M", "A", "N", "A", "J", "E", "M", "E", "N"],
        targetWords: ["MANAJEMEN", "MENANJAK", "NAMA", "NEMEN", "MANA", "JEMEN", "AJAM", "JANE", "MENE", "ENAM", "NEJA", "JENA", "MENJ", "JEM", "MEN", "AME", "NEN", "ANA", "MAE", "EME"],
        minWords: 5,
        timeLimit: 120
      },
      {
        letters: ["K", "A", "T", "A", "K", "A", "N", "A"],
        targetWords: ["KATAKANA", "KATA", "KANA", "KAKA", "NAKA", "TANA", "ANKA", "AKAN", "KANT", "KAKA", "TANKA", "KANA", "ATAK", "ANTAK", "ANKA", "TANA", "ANK", "KAT", "NAK", "ATA"],
        minWords: 6,
        timeLimit: 130
      },
      {
        letters: ["S", "U", "S", "H", "I", "Y", "A", "K", "I"],
        targetWords: ["SUSHIYAKI", "SUSHI", "YAKI", "KAYA", "KISI", "HUSI", "ISU", "KAI", "HIS", "SHU", "AKI", "SUKI", "YUKI", "YAKU", "KIYA", "SAY", "SHI", "IYA", "YASU", "USI"],
        minWords: 7,
        timeLimit: 150
      },

      {
        letters: ["ã•/sa", "ã/ku", "ã‚‰/ra", "ã‚„/ya", "ã¾/ma", "ã‚‚/mo", "ã¨/to", "ã—/shi", "ã‚“/n", "ã˜/ji"],
        targetWords: ["ã•ãã‚‰", "ã‚„ã¾", "ã‚„ã¾ã—ãŸ", "ã‚‚ã¨", "ã—ã‚“ã˜", "ã—ã‚“", "ã˜ã‚“", "ã—ã‚„", "ã¨ã—", "ãã‚‰"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ãŸ/ta", "ãª/na", "ã‹/ka", "ã‚/a", "ã„/i", "ã‹/ka", "ã‚/wa", "ã²/hi", "ã‚/ro", "ã—/shi"],
        targetWords: ["ãŸãªã‹", "ã‚ã„", "ã‹ã‚", "ã²ã‚ã—", "ã²ã‚", "ã—ã‚", "ã‹ãŸ", "ã‚ã‚", "ãŸã—", "ã„ã—"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã­/ne", "ã“/ko", "ã„/i", "ã¬/nu", "ã•/sa", "ã‹/ka", "ãª/na", "ã¨/to", "ã‚Š/ri"],
        targetWords: ["ã­ã“", "ã„ã¬", "ã•ã‹ãª", "ã¨ã‚Š", "ã•ã‘", "ã„ã•", "ã“ã¨", "ãªã¨", "ã‚Šã•", "ã•ã„"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã²/hi", "ã“/ko", "ã†/u", "ã/ki", "ã§/de", "ã‚“/n", "ã—/shi", "ã‚ƒ/ya", "ã˜/ji", "ã¦/te", "ã‚“/n", "ã—/shi", "ã‚ƒ/ya"],
        targetWords: ["ã²ã“ã†ã", "ã§ã‚“ã—ã‚ƒ", "ã˜ã¦ã‚“ã—ã‚ƒ", "ãã—ã‚ƒ", "ã—ã‚ƒã¦ã‚“", "ã˜ã¦ã‚“", "ã§ã‚“", "ã“ã†", "ã˜ã“", "ã§ã—ã‚ƒ"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ãŠ/o", "ã¡/chi", "ã‚ƒ/ya", "ã”/go", "ã¯/ha", "ã‚“/n", "ã™/su", "ã„/i", "ã‹/ka", "ã¿/mi", "ãš/zu"],
        targetWords: ["ãŠã¡ã‚ƒ", "ã”ã¯ã‚“", "ã™ã„ã‹", "ã¿ãš", "ãŠã¿ãš", "ã¡ã‚ƒã™ã„", "ã”ã¿", "ã™ã„", "ã¯ã‚“", "ã¡ã‚ƒ"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã›/se", "ã‚“/n", "ã›/se", "ã„/i", "ãŒ/ga", "ã/ku", "ã›/se", "ã„/i", "ãŒ/ga", "ã£/tsu", "ã“/ko", "ã†/u"],
        targetWords: ["ã›ã‚“ã›ã„", "ãŒãã›ã„", "ãŒã£ã“ã†", "ã“ã†", "ã›ã„", "ãŒã", "ã›ã„ã“ã†", "ã›ã„ã›ã„", "ã“ã†ã“ã†", "ã›ã“ã†"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã¨/to", "ã†/u", "ã/ki", "ã‚‡/kyo", "ã†/u", "ãŠ/o", "ãŠ/o", "ã•/sa", "ã‹/ka", "ã/ki", "ã‚‡/kyo", "ã†/u", "ã¨/to"],
        targetWords: ["ã¨ã†ãã‚‡ã†", "ãŠãŠã•ã‹", "ãã‚‡ã†ã¨", "ã¨ãã‚‡ã†", "ã•ã‹", "ãŠãŠ", "ãã‚‡ã†", "ã¨ã†", "ã¨ãŠ", "ã•ã¨ã†"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã™/su", "ã—/shi", "ã¦/te", "ã‚“/n", "ã·/pu", "ã‚‰/ra", "ã‚‰/ra", "ãƒ¼/-", "ã‚/me", "ã‚“/n", "ã†/u", "ã©/do", "ã‚“/n"],
        targetWords: ["ã™ã—", "ã¦ã‚“ã·ã‚‰", "ã‚‰ãƒ¼ã‚ã‚“", "ã†ã©ã‚“", "ã¦ã‚“", "ã‚‰ã‚ã‚“", "ã‚ã‚“", "ã©ã‚“", "ã·ã‚‰", "ã‚‰ã‚“"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã—/shi", "ã‚…/yu", "ã/ku", "ã /da", "ã„/i", "ã¹/be", "ã‚“/n", "ã/ki", "ã‚‡/kyo", "ã†/u", "ãŒ/ga", "ã£/tsu", "ã“/ko", "ã†/u"],
        targetWords: ["ã—ã‚…ãã ã„", "ã¹ã‚“ãã‚‡ã†", "ãŒã£ã“ã†", "ãã‚‡ã†", "ã ã„", "ã¹ã‚“", "ã—ã‚…ã", "ãŒã", "ã“ã†", "ã—ã‚…ã†"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã¯/ha", "ã‚‹/ru", "ãª/na", "ã¤/tsu", "ã‚/a", "ã/ki", "ãµ/fu", "ã‚†/yu", "ã/ki", "ã›/se", "ã¤/tsu"],
        targetWords: ["ã¯ã‚‹", "ãªã¤", "ã‚ã", "ãµã‚†", "ãã›ã¤", "ããµ", "ã›ã¤", "ãµã", "ããª", "ã¤ã"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã®/no", "ã‚Š/ri", "ã‚‚/mo", "ã®/no", "ã/ku", "ã‚‹/ru", "ã¾/ma", "ã§/de", "ã‚“/n", "ã—/shi", "ã‚ƒ/ya"],
        targetWords: ["ã®ã‚Šã‚‚ã®", "ã§ã‚“ã—ã‚ƒ", "ãã‚‹ã¾", "ã®ã‚Š", "ã‚‚ã®", "ã®ã", "ã‚Šã‚ƒ", "ã—ã‚“", "ã—ã‚„", "ã§ã®"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã³/bi", "ã‚‡/kyo", "ã†/u", "ã„/i", "ã‚“/n", "ã‹/ka", "ã‚“/n", "ã”/go", "ã—/shi", "ã‚…/yu"],
        targetWords: ["ã³ã‚‡ã†ã„ã‚“", "ã‹ã‚“ã”ã—", "ã—ã‚…", "ã„ã‚“", "ã‹ã‚“", "ã”ã—", "ã³ã‚‡ã†", "ã—ã‚…ã†", "ã‹ã—", "ã„ã‹"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã¦/te", "ãŒ/ga", "ã¿/mi", "ãˆ/e", "ã‚“/n", "ã´/pi", "ã¤/tsu", "ã‘/ke", "ã—/shi", "ã”/go", "ã‚€/mu"],
        targetWords: ["ã¦ãŒã¿", "ãˆã‚“ã´ã¤", "ã‘ã—ã”ã‚€", "ã‘ã—", "ã´ã¤", "ã—ã”", "ã‚€ã‘", "ãŒã¿", "ã”ã‚€", "ã‘ã¤"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã˜/ji", "ã‹/ka", "ã‚“/n", "ã¨/to", "ã‘/ke", "ã‚/a", "ã•/sa", "ã²/hi", "ã‚ˆ/yo", "ã‚‹/ru"],
        targetWords: ["ã˜ã‹ã‚“", "ã¨ã‘ã„", "ã‚ã•", "ã²ã‚‹", "ã‚ˆã‚‹", "ã‹ã‚“", "ã‘ã„", "ã˜ã‘", "ã‚ã•ã‘", "ã•ã‚ˆ"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã—/shi", "ã‚‡/kyo", "ã/ku", "ã˜/ji", "ã¤/tsu", "ã‹/ka", "ã„/i", "ã‹/ka", "ã‚“/n", "ã‘/ke"],
        targetWords: ["ã—ã‚‡ãã˜", "ã¤ã‹ã„", "ã‹ã„ã‘ã„", "ã‘ã„", "ã˜ã¤", "ãã‘", "ã—ã‚‡ã", "ã‹ã˜", "ã„ã‘", "ã‘ã¤"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã§/de", "ã‚“/n", "ã‚/wa", "ã‘/ke", "ã„/i", "ãŸã„/tai", "ã‹/ka", "ã‚“/n", "ã˜/ji", "ã¡/chi"],
        targetWords: ["ã§ã‚“ã‚", "ã‘ã„ãŸã„", "ã‹ã‚“ã˜", "ãŸã„ã¡", "ã‘ã‚“", "ã¡ã‹", "ã‘ã„", "ã˜ãŸã„", "ã‹ã¡", "ã§ã˜"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã†/u", "ã¿/mi", "ã‚„/ya", "ã¾/ma", "ã‹/ka", "ãœ/ze", "ã‚/a", "ã‚/me", "ã‚†/yu", "ã/ki"],
        targetWords: ["ã†ã¿", "ã‚„ã¾", "ã‹ãœ", "ã‚ã‚", "ã‚†ã", "ã‚ã¾", "ã¾ã", "ãã‚†", "ã‚†ã¾", "ã‚ã"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã‚Š/ri", "ã‚‡/kyo", "ã“/ko", "ã†/u", "ãŸ/ta", "ã³/bi", "ã/ku", "ã†/u", "ã“/ko", "ã†/u"],
        targetWords: ["ã‚Šã‚‡ã“ã†", "ã“ã†ãã†", "ãŸã³", "ãã†ã“ã†", "ã“ã†ã“", "ã“ã", "ãŸã", "ã‚Šã", "ã³ã“ã†", "ã“ãŸ"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã‹/ka", "ãž/zo", "ã/ku", "ãŠ/o", "ã‚„/ya", "ã“/ko", "ã/so", "ãµ/fu", "ã¼/bo", "ã—/shi"],
        targetWords: ["ã‹ãžã", "ãŠã‚„", "ã“ã", "ããµ", "ãã¼", "ã‹ã“", "ãµã—", "ã‚„ã¼", "ã‚„ã", "ã—ã‚‡"],
        minWords: 6,
        timeLimit: 160
      },
      {
        letters: ["ã«/ni", "ã¡/chi", "ã‚ˆ/yo", "ã†/u", "ã³/bi", "ã’/ge", "ã¤/tsu", "ã™/su", "ã„/i", "ã‚‚/mo"],
        targetWords: ["ã«ã¡ã‚ˆã†ã³", "ã’ã¤ã‚ˆã†ã³", "ã™ã„ã‚ˆã†ã³", "ã‚‚ãã‚ˆã†ã³", "ã«ã¡", "ã‚ˆã†", "ã’ã¤", "ã³ã™", "ã¤ã‚ˆ", "ã‚‚ã™"],
        minWords: 6,
        timeLimit: 160
      }


    ];

    // Word of Wonders Data
    const wordWondersLevels = [
      {
        letters: ['ã˜/ji', 'ã‹/ka', 'ã‚“/n', 'ã‘/ke', 'ã„/i', 'ã¨/to'],
        targetWords: ['ã˜ã‹ã‚“', 'ã‘ã„ã¨'],
        bonusWords: ['ã‹ã‚“', 'ã˜ã¨'],
        theme: 'ã˜ã‹ã‚“ (Waktu)'
      },
      {
        letters: ['K', 'U', 'C', 'I', 'N', 'G'],
        targetWords: ['KUCING', 'CUCI', 'CUING'],
        bonusWords: ['KIN', 'GIN', 'GINC'],
        theme: 'Hewan'
      },
      {
        letters: ['ã‚„/ya', 'ã¾/ma', 'ã‹/ka', 'ãœ/ze', 'ã¿/mi', 'ãš/zu'],
        targetWords: ['ã‚„ã¾', 'ã‹ãœ', 'ã¿ãš'],
        bonusWords: ['ã‚„ã‹', 'ã¿ã¾', 'ãšã¿'],
        theme: 'ã—ãœã‚“ (Alam)'
      },
      {
        letters: ['G', 'U', 'R', 'U', 'S', 'I'],
        targetWords: ['GURU', 'SISWA', 'RUGI'],
        bonusWords: ['SIR', 'SUGI', 'RUS'],
        theme: 'Sekolah'
      },
      {
        letters: ['ã™/su', 'ã—/shi', 'ã†/u', 'ã©/do', 'ã‚“/n', 'ã±/pa'],
        targetWords: ['ã™ã—', 'ã†ã©ã‚“'],
        bonusWords: ['ã—ã†', 'ã±ã‚“'],
        theme: 'ãŸã¹ã‚‚ã® (Makanan)'
      },
      {
        letters: ['M', 'O', 'B', 'I', 'L', 'T'],
        targetWords: ['MOBIL', 'LOBI', 'MILT'],
        bonusWords: ['BIT', 'BOT', 'LIT'],
        theme: 'Kendaraan'
      },
      {
        letters: ['ã„/i', 'ã—/shi', 'ã‹/ka', 'ã›/se', 'ã„/i', 'ã‹/ka'],
        targetWords: ['ã„ã—ã‹', 'ã›ã„ã‹'],
        bonusWords: ['ã„ã‹', 'ã‹ã„'],
        theme: 'ã—ã”ã¨ (Pekerjaan)'
      },
      {
        letters: ['T', 'A', 'N', 'A', 'H', 'K'],
        targetWords: ['TANAH', 'KANTAH'],
        bonusWords: ['HAT', 'ANT', 'TAK'],
        theme: 'Rumah'
      },
      {
        letters: ['ãŠ/o', 'ã‹/ka', 'ã‚/a', 'ã•/sa', 'ã‚“/n', 'ã¡/chi'],
        targetWords: ['ãŠã‹ã‚ã•ã‚“'],
        bonusWords: ['ã‹ã‚“', 'ã¡ã‹'],
        theme: 'ã‹ãžã (Keluarga)'
      },
      {
        letters: ['B', 'O', 'L', 'A', 'R', 'G'],
        targetWords: ['BOLA', 'GOL', 'BAL'],
        bonusWords: ['BAR', 'LAB', 'LOA'],
        theme: 'Olahraga'
      },
      {
        letters: ['ã‚/a', 'ãŠ/o', 'ã—/shi', 'ã‚/ro', 'ã/ku', 'ã‚/ro'],
        targetWords: ['ã‚ãŠ', 'ã—ã‚', 'ãã‚'],
        bonusWords: ['ãŠã—', 'ã‚ã'],
        theme: 'ã„ã‚ (Warna)'
      },
      {
        letters: ['F', 'L', 'A', 'G', 'I', 'H'],
        targetWords: ['FLAG', 'FILA'],
        bonusWords: ['FIG', 'LAG', 'HAG'],
        theme: 'Bendera & Simbol'
      },
      {
        letters: ['ãµ/fu', 'ã‚†/yu', 'ã/ki', 'ã¯/ha', 'ã‚‹/ru', 'ã‚/a'],
        targetWords: ['ãµã‚†', 'ã‚†ã', 'ã¯ã‚‹', 'ã‚ã'],
        bonusWords: ['ããµ', 'ã‚†ã¯'],
        theme: 'ãã›ã¤ (Musim)'
      },
      {
        letters: ['N', 'A', 'S', 'I', 'G', 'O'],
        targetWords: ['NASI', 'SIGN'],
        bonusWords: ['SAG', 'GAS', 'SIN'],
        theme: 'Makanan'
      },
      {
        letters: ['ã/ku', 'ã«/ni', 'ã¡/chi', 'ã‚ˆ/yo', 'ã†/u', 'ã³/bi'],
        targetWords: ['ã«ã¡ã‚ˆã†ã³'],
        bonusWords: ['ã«ã¡', 'ã‚ˆã†'],
        theme: 'ã˜ã‹ã‚“ (Waktu)'
      },
      {
        letters: ['H', 'U', 'J', 'A', 'N', 'T'],
        targetWords: ['HUJAN'],
        bonusWords: ['JANT', 'HUT', 'JUN'],
        theme: 'Cuaca'
      },
      {
        letters: ['ã²/hi', 'ã“/ko', 'ã†/u', 'ã/ki', 'ã¦/te', 'ã‚“/n'],
        targetWords: ['ã²ã“ã†ã'],
        bonusWords: ['ã“ã', 'ã†ã¦'],
        theme: 'ã®ã‚Šã‚‚ã® (Transportasi)'
      },
      {
        letters: ['B', 'A', 'R', 'U', 'N', 'G'],
        targetWords: ['BARU', 'BANGUN'],
        bonusWords: ['RUG', 'NAB', 'RAN'],
        theme: 'Bangunan'
      },
      {
        letters: ['ãŠ/o', 'ã¡ã‚ƒ/cha', 'ã”/go', 'ã¯/ha', 'ã‚“/n', 'ã¿/mi'],
        targetWords: ['ãŠã¡ã‚ƒ', 'ã”ã¯ã‚“'],
        bonusWords: ['ã¡ã‚ƒã¿', 'ãŠã¿'],
        theme: 'ãŸã¹ã‚‚ã® (Makanan)'
      },
      {
        letters: ['W', 'A', 'R', 'N', 'A', 'Y'],
        targetWords: ['WARNA'],
        bonusWords: ['RAW', 'WAN', 'ANY'],
        theme: 'Warna'
      },
      {
        letters: ['ã­/ne', 'ã“/ko', 'ã„/i', 'ã¬/nu', 'ã¨/to', 'ã‚Š/ri'],
        targetWords: ['ã­ã“', 'ã„ã¬', 'ã¨ã‚Š'],
        bonusWords: ['ã¬ã“', 'ã„ã¨'],
        theme: 'ã©ã†ã¶ã¤ (Hewan)'
      },
      {
        letters: ['P', 'U', 'T', 'I', 'H', 'A'],
        targetWords: ['PUTIH'],
        bonusWords: ['HUT', 'HIP', 'TIP'],
        theme: 'Warna'
      },
      {
        letters: ['ãŠ/o', 'ã‚“/n', 'ãŒ/ga', 'ã/ku', 'ãˆ/e', 'ã„/i'],
        targetWords: ['ãŠã‚“ãŒã'],
        bonusWords: ['ãŒã', 'ã„ãˆ'],
        theme: 'ã‚¨ãƒ³ã‚¿ãƒ¡ (Hiburan)'
      },
      {
        letters: ['S', 'A', 'B', 'U', 'T', 'K'],
        targetWords: ['SABUT', 'KABUT'],
        bonusWords: ['TAB', 'SAT', 'TUS'],
        theme: 'Benda'
      },
      {
        letters: ['ã¯/ha', 'ã—/shi', 'ã‚‹/ru', 'ã˜/ji', 'ã¦/te', 'ã‚“/n'],
        targetWords: ['ã˜ã¦ã‚“ã—ã‚ƒ'],
        bonusWords: ['ã¦ã‚“', 'ã˜ã¦'],
        theme: 'ã®ã‚Šã‚‚ã® (Transportasi)'
      },
      {
        letters: ['K', 'O', 'P', 'I', 'M', 'T'],
        targetWords: ['KOPI'],
        bonusWords: ['PIT', 'TIP', 'KIT'],
        theme: 'Minuman'
      },
      {
        letters: ['ã—/shi', 'ã‚“/n', 'ã”/go', 'ã†/u', 'ã/ki', 'ã‘/ke'],
        targetWords: ['ã—ã‚“ã”ã†ã'],
        bonusWords: ['ã‘ã†', 'ã—ã‚“'],
        theme: 'ã—ã‚“ã”ã† (Lampu Lalu Lintas)'
      },
      {
        letters: ['A', 'P', 'E', 'L', 'M', 'S'],
        targetWords: ['APEL'],
        bonusWords: ['PAL', 'MAP', 'SLAP'],
        theme: 'Buah'
      },

      {
        letters: ['T', 'I', 'G', 'A', 'S', 'N'],
        targetWords: ['TIGA'],
        bonusWords: ['GAS', 'SAT'],
        theme: 'Angka'
      },
      {
        letters: ['ã™/su', 'ã—/shi', 'ã‚ƒ/ya', 'ã/ku', 'ã«/ni', 'ã‚“/n'],
        targetWords: ['ã™ã—', 'ã—ã‚ƒãã«ã‚“'],
        bonusWords: ['ã—ã‚„', 'ã™ã«'],
        theme: 'ãŸã¹ã‚‚ã® & ã—ã”ã¨'
      }
    ];


    // Chess Pieces
    const chessPieces = {
      'wK': 'â™”', 'wQ': 'â™•', 'wR': 'â™–', 'wB': 'â™—', 'wN': 'â™˜', 'wP': 'â™™',
      'bK': 'â™š', 'bQ': 'â™›', 'bR': 'â™œ', 'bB': 'â™', 'bN': 'â™ž', 'bP': 'â™Ÿ'
    };

    // Initial Chess Board Setup
    const initialChessBoard = [
      ['bR', 'bN', 'bB', 'bQ', 'bK', 'bB', 'bN', 'bR'],
      ['bP', 'bP', 'bP', 'bP', 'bP', 'bP', 'bP', 'bP'],
      ['', '', '', '', '', '', '', ''],
      ['', '', '', '', '', '', '', ''],
      ['', '', '', '', '', '', '', ''],
      ['', '', '', '', '', '', '', ''],
      ['wP', 'wP', 'wP', 'wP', 'wP', 'wP', 'wP', 'wP'],
      ['wR', 'wN', 'wB', 'wQ', 'wK', 'wB', 'wN', 'wR']
    ];

    // Game State
    let currentPage = 'home';
    let score = 0;
    let timeLeft = 60;
    let timerInterval;
    let currentQuestion = {};
    let answered = false;
    let isCorrect = false;
    let pointsEarned = 0;
    let questionCount = 0;
    let usedQuestions = { riddle: [], puzzle: [], logic: [], math: [] };
    let currentGameMode = '';

    // Maze Game State
    let mazeLevel = 0;
    let mazePlayerPos = { row: 0, col: 0 };
    let mazeVisited = [];
    let mazeCompleted = false;

    // Chess Game State
    let chessBoard = JSON.parse(JSON.stringify(initialChessBoard));
    let chessTurn = 'w';
    let selectedChessPiece = null;
    let possibleMoves = [];

    // Polaris Game State
    let polarisLevel = 0;
    let polarisPlayerPos = { x: 0, y: 0 };
    let polarisStars = [];
    let polarisCompleted = false;

    // Word Building Game State
    let wordBuildingLevel = 0;
    let availableLetters = [];
    let currentWord = '';
    let foundWords = [];
    let wordBuildingCompleted = false;

    // Word of Wonders Game State
    let wordWondersCurrentLevel = 0;
    let wordWondersScore = 0;
    let wordWondersCurrentWord = '';
    let wordWondersSelectedLetters = [];
    let wordWondersFoundWords = [];
    let wordWondersBonusWords = [];
    let wordWondersIsSelecting = false;
    let wordWondersConnectionLines = [];

    // DOM Elements
    const app = document.getElementById('app');

    // Render Functions
    function renderHome() {
      app.innerHTML = `
        <div class="home-container">
          <h1 class="title">ðŸŽ® ULTIMATE BRAIN CHALLENGE</h1>
          <p class="subtitle">Uji kecerdasan Anda dengan berbagai jenis permainan pikiran!</p>
          
          <div class="game-modes">
            <div class="game-mode riddle" data-mode="riddle">
              <span class="mode-icon">ðŸ”</span>
              <h3>Teka-Teki</h3>
              <p>Tebak jawaban dari pertanyaan misterius</p>
            </div>
            <div class="game-mode puzzle" data-mode="puzzle">
              <span class="mode-icon">ðŸ§©</span>
              <h3>Puzzle</h3>
              <p>Pecahkan teka-teki logika yang menantang</p>
            </div>
            <div class="game-mode logic" data-mode="logic">
              <span class="mode-icon">ðŸ¤”</span>
              <h3>Logika</h3>
              <p>Latih kemampuan berpikir logis Anda</p>
            </div>
            <div class="game-mode math" data-mode="math">
              <span class="mode-icon">ðŸ§®</span>
              <h3>Matematika</h3>
              <p>Uji kecepatan berhitung Anda</p>
            </div>
            <div class="game-mode maze" data-mode="maze">
              <span class="mode-icon">ðŸ§­</span>
              <h3>Labirin Extreme</h3>
              <p>3 level labirin menantang</p>
            </div>
            <div class="game-mode chess" data-mode="chess">
              <span class="mode-icon">â™Ÿï¸</span>
              <h3>Catur</h3>
              <p>Permainan strategi klasik</p>
            </div>
            <div class="game-mode polaris" data-mode="polaris">
              <span class="mode-icon">ðŸŒŸ</span>
              <h3>Polaris Extreme</h3>
              <p>Navigasi melalui medan magnet dan rintangan</p>
            </div>
            <div class="game-mode wordbuilding" data-mode="wordbuilding">
              <span class="mode-icon">ðŸ“</span>
              <h3>Bangun Kata Extreme</h3>
              <p>Susun kata dari huruf yang tersedia</p>
            </div>
            <div class="game-mode wordwonders" data-mode="wordwonders">
              <span class="mode-icon">ðŸŽ¯</span>
              <h3>Word of Wonders</h3>
              <p>Hubungkan huruf dalam lingkaran untuk membentuk kata</p>
            </div>
          </div>
        </div>
      `;

      // Add event listeners to game modes
      document.querySelectorAll('.game-mode').forEach(mode => {
        mode.addEventListener('click', function () {
          currentGameMode = this.dataset.mode;
          if (currentGameMode === 'maze') {
            startMazeGame();
          } else if (currentGameMode === 'chess') {
            startChessGame();
          } else if (currentGameMode === 'polaris') {
            startPolarisGame();
          } else if (currentGameMode === 'wordbuilding') {
            startWordBuildingGame();
          } else if (currentGameMode === 'wordwonders') {
            startWordWondersGame();
          } else {
            startGame();
          }
        });
      });

      createParticles();
    }

    // Word of Wonders Functions
    function startWordWondersGame() {
      currentPage = 'wordwonders';
      wordWondersCurrentLevel = 0;
      wordWondersScore = 0;
      wordWondersFoundWords = [];
      wordWondersBonusWords = [];
      wordWondersCurrentWord = '';
      wordWondersSelectedLetters = [];
      renderWordWondersGame();
    }

    function renderWordWondersGame() {
      const level = wordWondersLevels[wordWondersCurrentLevel];

      app.innerHTML = `
        <div class="game-container">
          <div class="game-header">
            <div class="timer-container">
              <span class="timer-text">Level ${wordWondersCurrentLevel + 1}</span>
            </div>
            <div class="score">Score: ${wordWondersScore}</div>
          </div>
          
          <div class="word-wonders-container">
            <div class="level-info">
              <div class="level-title">${level.theme}</div>
              <div class="level-progress">
                Found: ${wordWondersFoundWords.length}/${level.targetWords.length} words
              </div>
            </div>
            
            <div class="target-words" id="targetWords">
              ${level.targetWords.map(word => `
                <div class="target-word ${wordWondersFoundWords.includes(word) ? 'found' : 'empty'}" data-word="${word}">
                  ${wordWondersFoundWords.includes(word) ? word : 'â€¢'.repeat(word.length)}
                </div>
              `).join('')}
            </div>
            
            <div class="current-word-display" id="currentWordDisplay">
              ${wordWondersCurrentWord || 'Connect letters to form words'}
            </div>
            
            <div class="letter-circle-container" id="letterCircleContainer">
              ${level.letters.map((letter, index) => {
        const angle = (index * 360 / level.letters.length) * Math.PI / 180;
        const radius = 120;
        const x = Math.cos(angle) * radius + 120;
        const y = Math.sin(angle) * radius + 120;

        return `
                  <div class="letter-circle" 
                       data-letter="${letter}" 
                       data-index="${index}"
                       style="left: ${x}px; top: ${y}px;">
                    ${letter}
                  </div>
                `;
      }).join('')}
            </div>
            
            <div class="game-controls">
              <button class="control-button shuffle" onclick="shuffleWordWondersLetters()">ðŸ”„ Shuffle</button>
              <button class="control-button hint" onclick="showWordWondersHint()">ðŸ’¡ Hint</button>
            </div>
            
            ${wordWondersBonusWords.length > 0 ? `
              <div class="bonus-section">
                <div class="bonus-title">Bonus Words Found!</div>
                <div class="bonus-words">
                  ${wordWondersBonusWords.map(word => `<div class="bonus-word">${word}</div>`).join('')}
                </div>
              </div>
            ` : ''}
          </div>
        </div>
      `;

      setupWordWondersLetterSelection();
    }

    function setupWordWondersLetterSelection() {
      const letters = document.querySelectorAll('.letter-circle');
      const container = document.getElementById('letterCircleContainer');

      letters.forEach(letter => {
        // Mouse events
        letter.addEventListener('mousedown', startWordWondersSelection);
        letter.addEventListener('mouseenter', continueWordWondersSelection);
        letter.addEventListener('mouseup', endWordWondersSelection);

        // Touch events for mobile
        letter.addEventListener('touchstart', handleWordWondersTouchStart, { passive: false });
        letter.addEventListener('touchmove', handleWordWondersTouchMove, { passive: false });
        letter.addEventListener('touchend', handleWordWondersTouchEnd, { passive: false });
      });

      document.addEventListener('mouseup', endWordWondersSelection);
      document.addEventListener('touchend', endWordWondersSelection);
    }

    function startWordWondersSelection(e) {
      e.preventDefault();
      wordWondersIsSelecting = true;
      wordWondersSelectedLetters = [];
      wordWondersCurrentWord = '';
      clearWordWondersConnections();

      const letter = e.target.dataset.letter;
      const index = parseInt(e.target.dataset.index);

      wordWondersSelectedLetters.push({ letter, index, element: e.target });
      wordWondersCurrentWord = letter;
      e.target.classList.add('selected');

      updateWordWondersCurrentWordDisplay();
    }

    function continueWordWondersSelection(e) {
      if (!wordWondersIsSelecting) return;

      const letter = e.target.dataset.letter;
      const index = parseInt(e.target.dataset.index);

      // Check if letter is already selected
      if (wordWondersSelectedLetters.some(sel => sel.index === index)) return;

      wordWondersSelectedLetters.push({ letter, index, element: e.target });
      wordWondersCurrentWord += letter;
      e.target.classList.add('selected');

      drawWordWondersConnection();
      updateWordWondersCurrentWordDisplay();
    }

    function endWordWondersSelection(e) {
      if (!wordWondersIsSelecting) return;

      wordWondersIsSelecting = false;
      checkWordWondersWord();

      // Clear selections
      document.querySelectorAll('.letter-circle').forEach(el => {
        el.classList.remove('selected');
      });

      setTimeout(() => {
        wordWondersSelectedLetters = [];
        wordWondersCurrentWord = '';
        clearWordWondersConnections();
        updateWordWondersCurrentWordDisplay();
      }, 1000);
    }

    function handleWordWondersTouchStart(e) {
      e.preventDefault();
      startWordWondersSelection(e);
    }

    function handleWordWondersTouchMove(e) {
      e.preventDefault();
      const touch = e.touches[0];
      const element = document.elementFromPoint(touch.clientX, touch.clientY);

      if (element && element.classList.contains('letter-circle')) {
        continueWordWondersSelection({ target: element });
      }
    }

    function handleWordWondersTouchEnd(e) {
      e.preventDefault();
      endWordWondersSelection(e);
    }

    function drawWordWondersConnection() {
      if (wordWondersSelectedLetters.length < 2) return;

      const container = document.getElementById('letterCircleContainer');
      const lastTwo = wordWondersSelectedLetters.slice(-2);

      const rect1 = lastTwo[0].element.getBoundingClientRect();
      const rect2 = lastTwo[1].element.getBoundingClientRect();
      const containerRect = container.getBoundingClientRect();

      const x1 = rect1.left + rect1.width / 2 - containerRect.left;
      const y1 = rect1.top + rect1.height / 2 - containerRect.top;
      const x2 = rect2.left + rect2.width / 2 - containerRect.left;
      const y2 = rect2.top + rect2.height / 2 - containerRect.top;

      const length = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
      const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;

      const line = document.createElement('div');
      line.className = 'connection-line';
      line.style.width = `${length}px`;
      line.style.left = `${x1}px`;
      line.style.top = `${y1}px`;
      line.style.transform = `rotate(${angle}deg)`;
      line.style.transformOrigin = '0 50%';

      container.appendChild(line);
      wordWondersConnectionLines.push(line);
    }

    function clearWordWondersConnections() {
      wordWondersConnectionLines.forEach(line => line.remove());
      wordWondersConnectionLines = [];
    }

    function updateWordWondersCurrentWordDisplay() {
      const display = document.getElementById('currentWordDisplay');
      const level = wordWondersLevels[wordWondersCurrentLevel];

      if (wordWondersCurrentWord) {
        display.textContent = wordWondersCurrentWord;

        if (level.targetWords.includes(wordWondersCurrentWord) || level.bonusWords.includes(wordWondersCurrentWord)) {
          display.classList.add('valid');
          display.classList.remove('invalid');
        } else if (wordWondersCurrentWord.length >= 3) {
          display.classList.add('invalid');
          display.classList.remove('valid');
        } else {
          display.classList.remove('valid', 'invalid');
        }
      } else {
        display.textContent = 'Connect letters to form words';
        display.classList.remove('valid', 'invalid');
      }
    }

    function checkWordWondersWord() {
      if (wordWondersCurrentWord.length < 3) return;

      const level = wordWondersLevels[wordWondersCurrentLevel];

      if (level.targetWords.includes(wordWondersCurrentWord) && !wordWondersFoundWords.includes(wordWondersCurrentWord)) {
        // Target word found
        wordWondersFoundWords.push(wordWondersCurrentWord);
        wordWondersScore += wordWondersCurrentWord.length * 10;

        // Animate the word
        animateWordWondersWordFound(wordWondersCurrentWord, true);

        // Check if level complete
        if (wordWondersFoundWords.length === level.targetWords.length) {
          setTimeout(() => showWordWondersLevelComplete(), 1000);
        } else {
          setTimeout(() => renderWordWondersGame(), 1000);
        }

      } else if (level.bonusWords.includes(wordWondersCurrentWord) && !wordWondersBonusWords.includes(wordWondersCurrentWord)) {
        // Bonus word found
        wordWondersBonusWords.push(wordWondersCurrentWord);
        wordWondersScore += wordWondersCurrentWord.length * 5;

        animateWordWondersWordFound(wordWondersCurrentWord, false);
        setTimeout(() => renderWordWondersGame(), 1000);

      } else {
        // Invalid word
        animateWordWondersInvalidWord();
      }
    }

    function animateWordWondersWordFound(word, isTarget) {
      const display = document.getElementById('currentWordDisplay');
      display.classList.add('bounce');
      display.style.background = isTarget ? 'var(--correct)' : 'var(--accent)';
      display.style.color = 'white';
      display.textContent = `${word} +${word.length * (isTarget ? 10 : 5)}`;
    }

    function animateWordWondersInvalidWord() {
      const display = document.getElementById('currentWordDisplay');
      display.style.animation = 'shake 0.5s ease';
      setTimeout(() => {
        display.style.animation = '';
      }, 500);
    }

    function shuffleWordWondersLetters() {
      const level = wordWondersLevels[wordWondersCurrentLevel];
      const shuffled = [...level.letters].sort(() => Math.random() - 0.5);
      level.letters = shuffled;
      renderWordWondersGame();
    }

    function showWordWondersHint() {
      const level = wordWondersLevels[wordWondersCurrentLevel];
      const unFoundWords = level.targetWords.filter(word => !wordWondersFoundWords.includes(word));

      if (unFoundWords.length > 0) {
        const hintWord = unFoundWords[0];
        const display = document.getElementById('currentWordDisplay');
        display.textContent = `Hint: ${hintWord[0]}${'â€¢'.repeat(hintWord.length - 1)}`;
        display.style.color = 'var(--accent)';

        setTimeout(() => {
          updateWordWondersCurrentWordDisplay();
        }, 3000);
      }
    }

    function showWordWondersLevelComplete() {
      const modal = document.createElement('div');
      modal.className = 'level-complete-modal';
      modal.innerHTML = `
        <div class="modal-content">
          <div class="modal-title">ðŸŽ‰ Level Complete!</div>
          <div class="modal-score">Score: ${wordWondersScore}</div>
          <div style="margin-bottom: 2rem;">
            <div>Target Words: ${wordWondersFoundWords.length}</div>
            <div>Bonus Words: ${wordWondersBonusWords.length}</div>
          </div>
          <button class="modal-button" onclick="nextWordWondersLevel()">Next Level</button>
        </div>
      `;

      document.body.appendChild(modal);

      // Add confetti effect
      createConfetti();
    }

    function nextWordWondersLevel() {
      // Remove modal
      const modal = document.querySelector('.level-complete-modal');
      if (modal) modal.remove();

      // Reset for next level
      wordWondersCurrentLevel++;
      wordWondersFoundWords = [];
      wordWondersBonusWords = [];
      wordWondersCurrentWord = '';
      wordWondersSelectedLetters = [];

      if (wordWondersCurrentLevel >= wordWondersLevels.length) {
        // Game complete
        showWordWondersGameComplete();
      } else {
        renderWordWondersGame();
      }
    }

    function showWordWondersGameComplete() {
      app.innerHTML = `
        <div class="game-container">
          <div style="text-align: center; padding: 3rem;">
            <h1 style="font-size: 3rem; margin-bottom: 2rem;">ðŸ† Congratulations!</h1>
            <p style="font-size: 1.5rem; margin-bottom: 1rem;">You completed all Word of Wonders levels!</p>
            <p style="font-size: 1.2rem; margin-bottom: 3rem;">Final Score: ${wordWondersScore}</p>
            <button class="modal-button" onclick="restartWordWondersGame()" style="padding: 1rem 2rem; font-size: 1.2rem;">
              Play Again
            </button>
            <button class="modal-button" onclick="goHome()" style="padding: 1rem 2rem; font-size: 1.2rem; margin-left: 1rem;">
              Home
            </button>
          </div>
        </div>
      `;
    }

    function restartWordWondersGame() {
      wordWondersCurrentLevel = 0;
      wordWondersScore = 0;
      wordWondersFoundWords = [];
      wordWondersBonusWords = [];
      wordWondersCurrentWord = '';
      wordWondersSelectedLetters = [];
      renderWordWondersGame();
    }

    function goHome() {
      currentPage = 'home';
      renderHome();
    }

    // Continue with all other existing game functions...
    function renderGame() {
      currentQuestion = getRandomQuestion(currentGameMode);
      questionCount++;
      answered = false;
      isCorrect = false;
      pointsEarned = 0;

      // Determine question type display
      let typeDisplay = '';
      let typeClass = '';
      switch (currentGameMode) {
        case 'riddle':
          typeDisplay = 'TEKA-TEKI';
          typeClass = 'riddle';
          break;
        case 'puzzle':
          typeDisplay = 'PUZZLE';
          typeClass = 'puzzle';
          break;
        case 'logic':
          typeDisplay = 'LOGIKA';
          typeClass = 'logic';
          break;
        case 'math':
          typeDisplay = 'MATEMATIKA';
          typeClass = 'math';
          break;
      }

      app.innerHTML = `
        <div class="game-container">
          <div class="game-header">
            <div class="timer-container">
              <div class="timer-circle">
                <svg width="60" height="60" viewBox="0 0 44 44">
                  <circle cx="22" cy="22" r="20" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="3"></circle>
                  <circle id="timerPath" cx="22" cy="22" r="20" fill="none" stroke="#00e676" stroke-width="3" 
                    stroke-dasharray="125.6" stroke-dashoffset="0" stroke-linecap="round" transform="rotate(-90 22 22)">
                  </circle>
                </svg>
              </div>
              <span class="timer-text">1:00</span>
            </div>
            <div class="score">Skor: ${score}</div>
          </div>
          
          <div class="question-container">
            <div class="question-type ${typeClass}">${typeDisplay}</div>
            <div class="question">${currentQuestion.text}</div>
            
            ${currentQuestion.type === 'multiple-choice' ? `
              <div class="options">
                ${currentQuestion.options.map((option, index) => `
                  <button class="option-button" data-answer="${option}">${option}</button>
                `).join('')}
              </div>
            ` : `
              <div class="answer-input">
                <input id="userAnswer" class="answer-field" placeholder="Ketik jawaban Anda..." autocomplete="off">
                <button id="submitAnswer" class="submit-button">Submit</button>
              </div>
            `}
            
            <div class="feedback hidden">
              <div class="feedback-message ${isCorrect ? 'correct-feedback' : 'incorrect-feedback'}">
                ${isCorrect ? 'ðŸŽ‰' : 'âŒ'}
                ${isCorrect ? `Benar! +${pointsEarned} poin` : `Salah! Jawaban benar: ${currentQuestion.answer}`}
                ${currentQuestion.explanation ? `<div class="explanation">${currentQuestion.explanation}</div>` : ''}
              </div>
              <button id="nextButton" class="next-button">Pertanyaan Berikutnya</button>
            </div>
          </div>
        </div>
      `;

      startTimer();
      setupGameEventListeners();
    }

    // Add all other existing functions (maze, chess, polaris, word building, etc.)
    // ... (keeping all the existing game logic intact)

    function createConfetti() {
      const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
      const confettiContainer = document.createElement('div');
      confettiContainer.style.position = 'fixed';
      confettiContainer.style.top = '0';
      confettiContainer.style.left = '0';
      confettiContainer.style.width = '100%';
      confettiContainer.style.height = '100%';
      confettiContainer.style.pointerEvents = 'none';
      confettiContainer.style.zIndex = '1000';
      document.body.appendChild(confettiContainer);

      for (let i = 0; i < 100; i++) {
        const confetti = document.createElement('div');
        const size = Math.random() * 10 + 5;
        confetti.style.width = `${size}px`;
        confetti.style.height = `${size}px`;
        confetti.style.position = 'absolute';
        confetti.style.left = `${Math.random() * 100}%`;
        confetti.style.top = `-${size}px`;
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.borderRadius = '50%';
        const animationDuration = Math.random() * 3 + 2;
        confetti.style.animation = `confetti ${animationDuration}s linear forwards`;
        confetti.style.animationDelay = `${Math.random() * 0.5}s`;
        confettiContainer.appendChild(confetti);

        setTimeout(() => {
          confetti.remove();
          if (confettiContainer.children.length === 0) {
            confettiContainer.remove();
          }
        }, animationDuration * 1000 + 500);
      }
    }

    function createParticles() {
      const existingParticles = document.querySelector('.particles-container');
      if (existingParticles) existingParticles.remove();

      const particlesContainer = document.createElement('div');
      particlesContainer.className = 'particles-container';
      particlesContainer.style.position = 'fixed';
      particlesContainer.style.top = '0';
      particlesContainer.style.left = '0';
      particlesContainer.style.width = '100%';
      particlesContainer.style.height = '100%';
      particlesContainer.style.pointerEvents = 'none';
      particlesContainer.style.zIndex = '-1';
      document.body.appendChild(particlesContainer);

      for (let i = 0; i < 30; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        const size = Math.random() * 5 + 2;
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.left = `${Math.random() * 100}%`;
        particle.style.top = `${Math.random() * 100}%`;
        const animationDuration = Math.random() * 20 + 10;
        particle.style.animation = `float ${animationDuration}s infinite ease-in-out`;
        particle.style.animationDelay = `${Math.random() * 5}s`;
        particle.style.opacity = Math.random() * 0.5 + 0.1;
        particlesContainer.appendChild(particle);
      }
    }

    // Initialize the game
    renderHome();
  </script>
</body>

</html>